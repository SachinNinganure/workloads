---
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    capability.openshift.io/name: marketplace
    include.release.openshift.io/ibm-cloud-managed: "true"
    include.release.openshift.io/self-managed-high-availability: "true"
    include.release.openshift.io/single-node-developer: "true"
  creationTimestamp: "2023-01-09T04:41:54Z"
  generation: 1
  labels:
    prometheus: alert-rules
    role: alert-rules
  managedFields:
  - apiVersion: monitoring.coreos.com/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .: {}
          f:capability.openshift.io/name: {}
          f:include.release.openshift.io/ibm-cloud-managed: {}
          f:include.release.openshift.io/self-managed-high-availability: {}
          f:include.release.openshift.io/single-node-developer: {}
        f:labels:
          .: {}
          f:prometheus: {}
          f:role: {}
        f:ownerReferences:
          .: {}
          k:{"uid":"f3a03fe4-e8d1-4fcc-92c7-00d0f120f589"}: {}
      f:spec:
        .: {}
        f:groups: {}
    manager: cluster-version-operator
    operation: Update
    time: "2023-01-09T04:41:54Z"
  name: marketplace-alert-rules
  namespace: openshift-marketplace
  ownerReferences:
  - apiVersion: config.openshift.io/v1
    kind: ClusterVersion
    name: version
    uid: f3a03fe4-e8d1-4fcc-92c7-00d0f120f589
  resourceVersion: "8452"
  uid: ae3e5aed-5eee-4b09-a3b4-3538ac3f5cdd
spec:
  groups:
  - name: operator.marketplace.rules
    rules:
    - alert: OperatorHubSourceError
      annotations:
        description: Operators shipped via the {{ $labels.name }} source are not available
          for installation until the issue is fixed. Operators already installed from
          this source will not receive updates until issue is fixed. Inspect the status
          of the pod owned by {{ $labels.name }} source in the openshift-marketplace
          namespace (oc -n openshift-marketplace get pods -l olm.catalogSource={{
          $labels.name }}) to diagnose and repair.
        summary: The {{ $labels.name }} source is in non-ready state for more than
          10 minutes.
      expr: catalogsource_ready{exported_namespace="openshift-marketplace"} == 0
      for: 10m
      labels:
        severity: warning
