2023-01-09T04:45:49.785721106Z I0109 04:45:49.785537       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc000790500 cert-dir:0xc000790960 cert-secrets:0xc000790460 configmaps:0xc000790000 namespace:0xc0001b1b80 optional-cert-configmaps:0xc0007908c0 optional-cert-secrets:0xc000790640 optional-configmaps:0xc000790140 optional-secrets:0xc0007900a0 pod:0xc0001b1cc0 pod-manifest-dir:0xc000790280 resource-dir:0xc0007901e0 revision:0xc0001b1a40 secrets:0xc0001b1f40 v:0xc0007ee3c0] [0xc0007ee3c0 0xc0001b1a40 0xc0001b1b80 0xc0001b1cc0 0xc0007901e0 0xc000790280 0xc000790000 0xc000790140 0xc0001b1f40 0xc0007900a0 0xc000790960 0xc000790500 0xc0007908c0 0xc000790460 0xc000790640] [] map[add-dir-header:0xc0008f9180 alsologtostderr:0xc0008f9860 cert-configmaps:0xc000790500 cert-dir:0xc000790960 cert-secrets:0xc000790460 configmaps:0xc000790000 help:0xc0007ee780 kubeconfig:0xc0001b19a0 log-backtrace-at:0xc0008f9ae0 log-dir:0xc0008f9c20 log-file:0xc0008f9e00 log-file-max-size:0xc0007ee000 log-flush-frequency:0xc0008f99a0 logtostderr:0xc0007ee0a0 namespace:0xc0001b1b80 one-output:0xc0007ee140 optional-cert-configmaps:0xc0007908c0 optional-cert-secrets:0xc000790640 optional-configmaps:0xc000790140 optional-secrets:0xc0007900a0 pod:0xc0001b1cc0 pod-manifest-dir:0xc000790280 pod-manifests-lock-file:0xc0007903c0 resource-dir:0xc0007901e0 revision:0xc0001b1a40 secrets:0xc0001b1f40 skip-headers:0xc0007ee1e0 skip-log-headers:0xc0007ee280 stderrthreshold:0xc0007ee320 timeout-duration:0xc000790320 v:0xc0007ee3c0 vmodule:0xc0007ee460] [0xc0001b19a0 0xc0001b1a40 0xc0001b1b80 0xc0001b1cc0 0xc0001b1f40 0xc000790000 0xc0007900a0 0xc000790140 0xc0007901e0 0xc000790280 0xc000790320 0xc0007903c0 0xc000790460 0xc000790500 0xc000790640 0xc0007908c0 0xc000790960 0xc0008f9180 0xc0008f9860 0xc0008f9ae0 0xc0008f9c20 0xc0008f9e00 0xc0007ee000 0xc0008f99a0 0xc0007ee0a0 0xc0007ee140 0xc0007ee1e0 0xc0007ee280 0xc0007ee320 0xc0007ee3c0 0xc0007ee460 0xc0007ee780] [0xc0008f9180 0xc0008f9860 0xc000790500 0xc000790960 0xc000790460 0xc000790000 0xc0007ee780 0xc0001b19a0 0xc0008f9ae0 0xc0008f9c20 0xc0008f9e00 0xc0007ee000 0xc0008f99a0 0xc0007ee0a0 0xc0001b1b80 0xc0007ee140 0xc0007908c0 0xc000790640 0xc000790140 0xc0007900a0 0xc0001b1cc0 0xc000790280 0xc0007903c0 0xc0007901e0 0xc0001b1a40 0xc0001b1f40 0xc0007ee1e0 0xc0007ee280 0xc0007ee320 0xc000790320 0xc0007ee3c0 0xc0007ee460] map[104:0xc0007ee780 118:0xc0007ee3c0] [] -1 0 0xc0007d54a0 true 0xa43500 []}
2023-01-09T04:45:49.785823105Z I0109 04:45:49.785807       1 cmd.go:93] (*installerpod.InstallOptions)(0xc000503380)({
2023-01-09T04:45:49.785823105Z  KubeConfig: (string) "",
2023-01-09T04:45:49.785823105Z  KubeClient: (kubernetes.Interface) <nil>,
2023-01-09T04:45:49.785823105Z  Revision: (string) (len=1) "4",
2023-01-09T04:45:49.785823105Z  NodeName: (string) "",
2023-01-09T04:45:49.785823105Z  Namespace: (string) (len=24) "openshift-kube-apiserver",
2023-01-09T04:45:49.785823105Z  PodConfigMapNamePrefix: (string) (len=18) "kube-apiserver-pod",
2023-01-09T04:45:49.785823105Z  SecretNamePrefixes: ([]string) (len=3 cap=4) {
2023-01-09T04:45:49.785823105Z   (string) (len=11) "etcd-client",
2023-01-09T04:45:49.785823105Z   (string) (len=34) "localhost-recovery-serving-certkey",
2023-01-09T04:45:49.785823105Z   (string) (len=31) "localhost-recovery-client-token"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  OptionalSecretNamePrefixes: ([]string) (len=2 cap=2) {
2023-01-09T04:45:49.785823105Z   (string) (len=17) "encryption-config",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "webhook-authenticator"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  ConfigMapNamePrefixes: ([]string) (len=8 cap=8) {
2023-01-09T04:45:49.785823105Z   (string) (len=18) "kube-apiserver-pod",
2023-01-09T04:45:49.785823105Z   (string) (len=6) "config",
2023-01-09T04:45:49.785823105Z   (string) (len=37) "kube-apiserver-cert-syncer-kubeconfig",
2023-01-09T04:45:49.785823105Z   (string) (len=28) "bound-sa-token-signing-certs",
2023-01-09T04:45:49.785823105Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:45:49.785823105Z   (string) (len=18) "kubelet-serving-ca",
2023-01-09T04:45:49.785823105Z   (string) (len=22) "sa-token-signing-certs",
2023-01-09T04:45:49.785823105Z   (string) (len=29) "kube-apiserver-audit-policies"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  OptionalConfigMapNamePrefixes: ([]string) (len=3 cap=4) {
2023-01-09T04:45:49.785823105Z   (string) (len=14) "oauth-metadata",
2023-01-09T04:45:49.785823105Z   (string) (len=12) "cloud-config",
2023-01-09T04:45:49.785823105Z   (string) (len=24) "kube-apiserver-server-ca"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  CertSecretNames: ([]string) (len=10 cap=16) {
2023-01-09T04:45:49.785823105Z   (string) (len=17) "aggregator-client",
2023-01-09T04:45:49.785823105Z   (string) (len=30) "localhost-serving-cert-certkey",
2023-01-09T04:45:49.785823105Z   (string) (len=31) "service-network-serving-certkey",
2023-01-09T04:45:49.785823105Z   (string) (len=37) "external-loadbalancer-serving-certkey",
2023-01-09T04:45:49.785823105Z   (string) (len=37) "internal-loadbalancer-serving-certkey",
2023-01-09T04:45:49.785823105Z   (string) (len=33) "bound-service-account-signing-key",
2023-01-09T04:45:49.785823105Z   (string) (len=40) "control-plane-node-admin-client-cert-key",
2023-01-09T04:45:49.785823105Z   (string) (len=31) "check-endpoints-client-cert-key",
2023-01-09T04:45:49.785823105Z   (string) (len=14) "kubelet-client",
2023-01-09T04:45:49.785823105Z   (string) (len=16) "node-kubeconfigs"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  OptionalCertSecretNamePrefixes: ([]string) (len=11 cap=16) {
2023-01-09T04:45:49.785823105Z   (string) (len=17) "user-serving-cert",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-000",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-001",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-002",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-003",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-004",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-005",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-006",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-007",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-008",
2023-01-09T04:45:49.785823105Z   (string) (len=21) "user-serving-cert-009"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  CertConfigMapNamePrefixes: ([]string) (len=4 cap=4) {
2023-01-09T04:45:49.785823105Z   (string) (len=20) "aggregator-client-ca",
2023-01-09T04:45:49.785823105Z   (string) (len=9) "client-ca",
2023-01-09T04:45:49.785823105Z   (string) (len=29) "control-plane-node-kubeconfig",
2023-01-09T04:45:49.785823105Z   (string) (len=26) "check-endpoints-kubeconfig"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  OptionalCertConfigMapNamePrefixes: ([]string) (len=1 cap=1) {
2023-01-09T04:45:49.785823105Z   (string) (len=17) "trusted-ca-bundle"
2023-01-09T04:45:49.785823105Z  },
2023-01-09T04:45:49.785823105Z  CertDir: (string) (len=57) "/etc/kubernetes/static-pod-resources/kube-apiserver-certs",
2023-01-09T04:45:49.785823105Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2023-01-09T04:45:49.785823105Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2023-01-09T04:45:49.785823105Z  Timeout: (time.Duration) 2m0s,
2023-01-09T04:45:49.785823105Z  StaticPodManifestsLockFile: (string) "",
2023-01-09T04:45:49.785823105Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2023-01-09T04:45:49.785823105Z  KubeletVersion: (string) ""
2023-01-09T04:45:49.785823105Z })
2023-01-09T04:45:49.786460866Z I0109 04:45:49.786439       1 cmd.go:410] Getting controller reference for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:45:49.881768265Z I0109 04:45:49.881736       1 cmd.go:423] Waiting for installer revisions to settle for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:45:49.885455666Z I0109 04:45:49.885427       1 cmd.go:515] Waiting additional period after revisions have settled for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:46:19.885635065Z I0109 04:46:19.885594       1 cmd.go:521] Getting installer pods for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:46:19.889816541Z I0109 04:46:19.889784       1 cmd.go:539] Latest installer revision for node ip-10-0-199-219.us-east-2.compute.internal is: 4
2023-01-09T04:46:19.889816541Z I0109 04:46:19.889800       1 cmd.go:428] Querying kubelet version for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:46:19.893654573Z I0109 04:46:19.893633       1 cmd.go:441] Got kubelet version 1.25.4+77bec7a on target node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:46:19.893654573Z I0109 04:46:19.893648       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4" ...
2023-01-09T04:46:19.893777659Z I0109 04:46:19.893764       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4" ...
2023-01-09T04:46:19.893777659Z I0109 04:46:19.893775       1 cmd.go:226] Getting secrets ...
2023-01-09T04:46:19.897011113Z I0109 04:46:19.896992       1 copy.go:32] Got secret openshift-kube-apiserver/etcd-client-4
2023-01-09T04:46:19.900019427Z I0109 04:46:19.899994       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-client-token-4
2023-01-09T04:46:19.903086442Z I0109 04:46:19.903047       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-serving-certkey-4
2023-01-09T04:46:19.905964576Z I0109 04:46:19.905936       1 copy.go:24] Failed to get secret openshift-kube-apiserver/encryption-config-4: secrets "encryption-config-4" not found
2023-01-09T04:46:19.908886886Z I0109 04:46:19.908859       1 copy.go:32] Got secret openshift-kube-apiserver/webhook-authenticator-4
2023-01-09T04:46:19.908927079Z I0109 04:46:19.908913       1 cmd.go:239] Getting config maps ...
2023-01-09T04:46:19.912495644Z I0109 04:46:19.912478       1 copy.go:60] Got configMap openshift-kube-apiserver/bound-sa-token-signing-certs-4
2023-01-09T04:46:19.915441647Z I0109 04:46:19.915426       1 copy.go:60] Got configMap openshift-kube-apiserver/config-4
2023-01-09T04:46:19.918755213Z I0109 04:46:19.918735       1 copy.go:60] Got configMap openshift-kube-apiserver/etcd-serving-ca-4
2023-01-09T04:46:20.089003495Z I0109 04:46:20.088969       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-audit-policies-4
2023-01-09T04:46:20.290151795Z I0109 04:46:20.290110       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-cert-syncer-kubeconfig-4
2023-01-09T04:46:20.490473195Z I0109 04:46:20.490433       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-pod-4
2023-01-09T04:46:20.688941181Z I0109 04:46:20.688892       1 copy.go:60] Got configMap openshift-kube-apiserver/kubelet-serving-ca-4
2023-01-09T04:46:20.889498010Z I0109 04:46:20.889459       1 copy.go:60] Got configMap openshift-kube-apiserver/sa-token-signing-certs-4
2023-01-09T04:46:21.088792926Z I0109 04:46:21.088749       1 copy.go:52] Failed to get config map openshift-kube-apiserver/cloud-config-4: configmaps "cloud-config-4" not found
2023-01-09T04:46:21.289388022Z I0109 04:46:21.289347       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-server-ca-4
2023-01-09T04:46:21.493629991Z I0109 04:46:21.493586       1 copy.go:52] Failed to get config map openshift-kube-apiserver/oauth-metadata-4: configmaps "oauth-metadata-4" not found
2023-01-09T04:46:21.493629991Z I0109 04:46:21.493608       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/etcd-client" ...
2023-01-09T04:46:21.493800179Z I0109 04:46:21.493779       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/etcd-client/tls.key" ...
2023-01-09T04:46:21.493914926Z I0109 04:46:21.493884       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/etcd-client/tls.crt" ...
2023-01-09T04:46:21.493988053Z I0109 04:46:21.493969       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-client-token" ...
2023-01-09T04:46:21.494065540Z I0109 04:46:21.494046       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-client-token/ca.crt" ...
2023-01-09T04:46:21.494162742Z I0109 04:46:21.494140       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-client-token/namespace" ...
2023-01-09T04:46:21.494239321Z I0109 04:46:21.494214       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-client-token/token" ...
2023-01-09T04:46:21.494301240Z I0109 04:46:21.494283       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-serving-certkey" ...
2023-01-09T04:46:21.494377002Z I0109 04:46:21.494348       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-serving-certkey/tls.crt" ...
2023-01-09T04:46:21.494437411Z I0109 04:46:21.494420       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/localhost-recovery-serving-certkey/tls.key" ...
2023-01-09T04:46:21.494588423Z I0109 04:46:21.494533       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/webhook-authenticator" ...
2023-01-09T04:46:21.494620151Z I0109 04:46:21.494592       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/secrets/webhook-authenticator/kubeConfig" ...
2023-01-09T04:46:21.494699751Z I0109 04:46:21.494675       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/bound-sa-token-signing-certs" ...
2023-01-09T04:46:21.494783649Z I0109 04:46:21.494759       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/bound-sa-token-signing-certs/service-account-001.pub" ...
2023-01-09T04:46:21.494857076Z I0109 04:46:21.494840       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/config" ...
2023-01-09T04:46:21.494894703Z I0109 04:46:21.494881       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/config/config.yaml" ...
2023-01-09T04:46:21.494948716Z I0109 04:46:21.494936       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/etcd-serving-ca" ...
2023-01-09T04:46:21.495027342Z I0109 04:46:21.495006       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:46:21.495105534Z I0109 04:46:21.495088       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-audit-policies" ...
2023-01-09T04:46:21.495157546Z I0109 04:46:21.495141       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-audit-policies/policy.yaml" ...
2023-01-09T04:46:21.495230243Z I0109 04:46:21.495214       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-cert-syncer-kubeconfig" ...
2023-01-09T04:46:21.495277512Z I0109 04:46:21.495263       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig" ...
2023-01-09T04:46:21.495369935Z I0109 04:46:21.495353       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-pod" ...
2023-01-09T04:46:21.495419346Z I0109 04:46:21.495404       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-pod/forceRedeploymentReason" ...
2023-01-09T04:46:21.495487401Z I0109 04:46:21.495473       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-pod/pod.yaml" ...
2023-01-09T04:46:21.495609676Z I0109 04:46:21.495578       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-pod/version" ...
2023-01-09T04:46:21.495665906Z I0109 04:46:21.495650       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kubelet-serving-ca" ...
2023-01-09T04:46:21.495723394Z I0109 04:46:21.495706       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kubelet-serving-ca/ca-bundle.crt" ...
2023-01-09T04:46:21.495798322Z I0109 04:46:21.495777       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/sa-token-signing-certs" ...
2023-01-09T04:46:21.495841492Z I0109 04:46:21.495827       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/sa-token-signing-certs/service-account-001.pub" ...
2023-01-09T04:46:21.495913967Z I0109 04:46:21.495900       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-server-ca" ...
2023-01-09T04:46:21.495968869Z I0109 04:46:21.495954       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/configmaps/kube-apiserver-server-ca/ca-bundle.crt" ...
2023-01-09T04:46:21.496047944Z I0109 04:46:21.496034       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs" ...
2023-01-09T04:46:21.496056189Z I0109 04:46:21.496050       1 cmd.go:226] Getting secrets ...
2023-01-09T04:46:21.690547894Z I0109 04:46:21.690506       1 copy.go:32] Got secret openshift-kube-apiserver/aggregator-client
2023-01-09T04:46:21.888938944Z I0109 04:46:21.888894       1 copy.go:32] Got secret openshift-kube-apiserver/bound-service-account-signing-key
2023-01-09T04:46:22.089495037Z I0109 04:46:22.089458       1 copy.go:32] Got secret openshift-kube-apiserver/check-endpoints-client-cert-key
2023-01-09T04:46:22.289515285Z I0109 04:46:22.289478       1 copy.go:32] Got secret openshift-kube-apiserver/control-plane-node-admin-client-cert-key
2023-01-09T04:46:22.489062732Z I0109 04:46:22.489024       1 copy.go:32] Got secret openshift-kube-apiserver/external-loadbalancer-serving-certkey
2023-01-09T04:46:22.689692775Z I0109 04:46:22.689653       1 copy.go:32] Got secret openshift-kube-apiserver/internal-loadbalancer-serving-certkey
2023-01-09T04:46:22.889427607Z I0109 04:46:22.889391       1 copy.go:32] Got secret openshift-kube-apiserver/kubelet-client
2023-01-09T04:46:23.088809165Z I0109 04:46:23.088774       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-serving-cert-certkey
2023-01-09T04:46:23.289918941Z I0109 04:46:23.289872       1 copy.go:32] Got secret openshift-kube-apiserver/node-kubeconfigs
2023-01-09T04:46:23.489877769Z I0109 04:46:23.489838       1 copy.go:32] Got secret openshift-kube-apiserver/service-network-serving-certkey
2023-01-09T04:46:23.689939741Z I0109 04:46:23.689904       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert: secrets "user-serving-cert" not found
2023-01-09T04:46:23.889530335Z I0109 04:46:23.889495       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-000: secrets "user-serving-cert-000" not found
2023-01-09T04:46:24.090190730Z I0109 04:46:24.090152       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-001: secrets "user-serving-cert-001" not found
2023-01-09T04:46:24.289936527Z I0109 04:46:24.289901       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-002: secrets "user-serving-cert-002" not found
2023-01-09T04:46:24.489675481Z I0109 04:46:24.489637       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-003: secrets "user-serving-cert-003" not found
2023-01-09T04:46:24.689357334Z I0109 04:46:24.689292       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-004: secrets "user-serving-cert-004" not found
2023-01-09T04:46:24.889924058Z I0109 04:46:24.889891       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-005: secrets "user-serving-cert-005" not found
2023-01-09T04:46:25.089749176Z I0109 04:46:25.089710       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-006: secrets "user-serving-cert-006" not found
2023-01-09T04:46:25.289107906Z I0109 04:46:25.289071       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-007: secrets "user-serving-cert-007" not found
2023-01-09T04:46:25.489604179Z I0109 04:46:25.489561       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-008: secrets "user-serving-cert-008" not found
2023-01-09T04:46:25.689315780Z I0109 04:46:25.689277       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-009: secrets "user-serving-cert-009" not found
2023-01-09T04:46:25.689315780Z I0109 04:46:25.689298       1 cmd.go:239] Getting config maps ...
2023-01-09T04:46:25.889945439Z I0109 04:46:25.889904       1 copy.go:60] Got configMap openshift-kube-apiserver/aggregator-client-ca
2023-01-09T04:46:26.089620315Z I0109 04:46:26.089582       1 copy.go:60] Got configMap openshift-kube-apiserver/check-endpoints-kubeconfig
2023-01-09T04:46:26.289262115Z I0109 04:46:26.289223       1 copy.go:60] Got configMap openshift-kube-apiserver/client-ca
2023-01-09T04:46:26.490045589Z I0109 04:46:26.489998       1 copy.go:60] Got configMap openshift-kube-apiserver/control-plane-node-kubeconfig
2023-01-09T04:46:26.696152147Z I0109 04:46:26.696087       1 copy.go:60] Got configMap openshift-kube-apiserver/trusted-ca-bundle
2023-01-09T04:46:26.696482637Z I0109 04:46:26.696452       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client" ...
2023-01-09T04:46:26.696511290Z I0109 04:46:26.696485       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.key" ...
2023-01-09T04:46:26.696702922Z I0109 04:46:26.696675       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.crt" ...
2023-01-09T04:46:26.696905994Z I0109 04:46:26.696861       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key" ...
2023-01-09T04:46:26.696921688Z I0109 04:46:26.696884       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.key" ...
2023-01-09T04:46:26.697042501Z I0109 04:46:26.697005       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.pub" ...
2023-01-09T04:46:26.697118707Z I0109 04:46:26.697102       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key" ...
2023-01-09T04:46:26.697151079Z I0109 04:46:26.697121       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.crt" ...
2023-01-09T04:46:26.697259075Z I0109 04:46:26.697234       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.key" ...
2023-01-09T04:46:26.697370225Z I0109 04:46:26.697351       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key" ...
2023-01-09T04:46:26.697388888Z I0109 04:46:26.697374       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.crt" ...
2023-01-09T04:46:26.697523102Z I0109 04:46:26.697468       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.key" ...
2023-01-09T04:46:26.697581469Z I0109 04:46:26.697565       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey" ...
2023-01-09T04:46:26.697592991Z I0109 04:46:26.697584       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.crt" ...
2023-01-09T04:46:26.697714808Z I0109 04:46:26.697695       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.key" ...
2023-01-09T04:46:26.697800934Z I0109 04:46:26.697767       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey" ...
2023-01-09T04:46:26.697800934Z I0109 04:46:26.697788       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.crt" ...
2023-01-09T04:46:26.697961271Z I0109 04:46:26.697911       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.key" ...
2023-01-09T04:46:26.698084679Z I0109 04:46:26.698059       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client" ...
2023-01-09T04:46:26.698145216Z I0109 04:46:26.698119       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.crt" ...
2023-01-09T04:46:26.698261914Z I0109 04:46:26.698244       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.key" ...
2023-01-09T04:46:26.698402605Z I0109 04:46:26.698385       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey" ...
2023-01-09T04:46:26.698431310Z I0109 04:46:26.698405       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.crt" ...
2023-01-09T04:46:26.698540784Z I0109 04:46:26.698526       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.key" ...
2023-01-09T04:46:26.698644953Z I0109 04:46:26.698627       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs" ...
2023-01-09T04:46:26.698657298Z I0109 04:46:26.698647       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-ext.kubeconfig" ...
2023-01-09T04:46:26.698781203Z I0109 04:46:26.698765       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-int.kubeconfig" ...
2023-01-09T04:46:26.698891926Z I0109 04:46:26.698874       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost-recovery.kubeconfig" ...
2023-01-09T04:46:26.698985918Z I0109 04:46:26.698972       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost.kubeconfig" ...
2023-01-09T04:46:26.699060425Z I0109 04:46:26.699048       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey" ...
2023-01-09T04:46:26.699068517Z I0109 04:46:26.699061       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.crt" ...
2023-01-09T04:46:26.699187420Z I0109 04:46:26.699161       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.key" ...
2023-01-09T04:46:26.699307321Z I0109 04:46:26.699284       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca" ...
2023-01-09T04:46:26.699348694Z I0109 04:46:26.699310       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca/ca-bundle.crt" ...
2023-01-09T04:46:26.699495928Z I0109 04:46:26.699472       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig" ...
2023-01-09T04:46:26.699549624Z I0109 04:46:26.699530       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig/kubeconfig" ...
2023-01-09T04:46:26.699641766Z I0109 04:46:26.699629       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca" ...
2023-01-09T04:46:26.699657325Z I0109 04:46:26.699644       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca/ca-bundle.crt" ...
2023-01-09T04:46:26.699772223Z I0109 04:46:26.699755       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig" ...
2023-01-09T04:46:26.699783663Z I0109 04:46:26.699775       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig/kubeconfig" ...
2023-01-09T04:46:26.699876862Z I0109 04:46:26.699860       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle" ...
2023-01-09T04:46:26.700139210Z I0109 04:46:26.700090       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle/ca-bundle.crt" ...
2023-01-09T04:46:26.700473407Z I0109 04:46:26.700455       1 cmd.go:332] Getting pod configmaps/kube-apiserver-pod-4 -n openshift-kube-apiserver
2023-01-09T04:46:26.888946880Z I0109 04:46:26.888906       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2023-01-09T04:46:26.888988306Z I0109 04:46:26.888944       1 cmd.go:376] Writing a pod under "kube-apiserver-pod.yaml" key 
2023-01-09T04:46:26.888988306Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"4"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/usr/bin/timeout","279","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 194s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 194s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 194 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=194s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"4"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":45,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":194,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
2023-01-09T04:46:26.892118990Z I0109 04:46:26.892074       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4/kube-apiserver-pod.yaml" ...
2023-01-09T04:46:26.892286132Z I0109 04:46:26.892264       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2023-01-09T04:46:26.892304597Z I0109 04:46:26.892279       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2023-01-09T04:46:26.892304597Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"4"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-4"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/usr/bin/timeout","279","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 194s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 194s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 194 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=194s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"4"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":45,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":194,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
