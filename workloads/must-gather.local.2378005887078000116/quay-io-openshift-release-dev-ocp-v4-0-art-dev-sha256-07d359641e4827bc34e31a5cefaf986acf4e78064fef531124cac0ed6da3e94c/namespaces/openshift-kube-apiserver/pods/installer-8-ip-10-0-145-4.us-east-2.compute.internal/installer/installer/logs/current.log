2023-01-09T04:55:26.655293072Z I0109 04:55:26.567731       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc0006a50e0 cert-dir:0xc0006a52c0 cert-secrets:0xc0006a5040 configmaps:0xc0006a4be0 namespace:0xc0006a4a00 optional-cert-configmaps:0xc0006a5220 optional-cert-secrets:0xc0006a5180 optional-configmaps:0xc0006a4d20 optional-secrets:0xc0006a4c80 pod:0xc0006a4aa0 pod-manifest-dir:0xc0006a4e60 resource-dir:0xc0006a4dc0 revision:0xc0006a4960 secrets:0xc0006a4b40 v:0xc000a2f400] [0xc000a2f400 0xc0006a4960 0xc0006a4a00 0xc0006a4aa0 0xc0006a4dc0 0xc0006a4e60 0xc0006a4be0 0xc0006a4d20 0xc0006a4b40 0xc0006a4c80 0xc0006a52c0 0xc0006a50e0 0xc0006a5220 0xc0006a5040 0xc0006a5180] [] map[add-dir-header:0xc000a2ec80 alsologtostderr:0xc000a2ed20 cert-configmaps:0xc0006a50e0 cert-dir:0xc0006a52c0 cert-secrets:0xc0006a5040 configmaps:0xc0006a4be0 help:0xc000a2f7c0 kubeconfig:0xc0006a48c0 log-backtrace-at:0xc000a2ee60 log-dir:0xc000a2ef00 log-file:0xc000a2efa0 log-file-max-size:0xc000a2f040 log-flush-frequency:0xc000a2edc0 logtostderr:0xc000a2f0e0 namespace:0xc0006a4a00 one-output:0xc000a2f180 optional-cert-configmaps:0xc0006a5220 optional-cert-secrets:0xc0006a5180 optional-configmaps:0xc0006a4d20 optional-secrets:0xc0006a4c80 pod:0xc0006a4aa0 pod-manifest-dir:0xc0006a4e60 pod-manifests-lock-file:0xc0006a4fa0 resource-dir:0xc0006a4dc0 revision:0xc0006a4960 secrets:0xc0006a4b40 skip-headers:0xc000a2f220 skip-log-headers:0xc000a2f2c0 stderrthreshold:0xc000a2f360 timeout-duration:0xc0006a4f00 v:0xc000a2f400 vmodule:0xc000a2f4a0] [0xc0006a48c0 0xc0006a4960 0xc0006a4a00 0xc0006a4aa0 0xc0006a4b40 0xc0006a4be0 0xc0006a4c80 0xc0006a4d20 0xc0006a4dc0 0xc0006a4e60 0xc0006a4f00 0xc0006a4fa0 0xc0006a5040 0xc0006a50e0 0xc0006a5180 0xc0006a5220 0xc0006a52c0 0xc000a2ec80 0xc000a2ed20 0xc000a2ee60 0xc000a2ef00 0xc000a2efa0 0xc000a2f040 0xc000a2edc0 0xc000a2f0e0 0xc000a2f180 0xc000a2f220 0xc000a2f2c0 0xc000a2f360 0xc000a2f400 0xc000a2f4a0 0xc000a2f7c0] [0xc000a2ec80 0xc000a2ed20 0xc0006a50e0 0xc0006a52c0 0xc0006a5040 0xc0006a4be0 0xc000a2f7c0 0xc0006a48c0 0xc000a2ee60 0xc000a2ef00 0xc000a2efa0 0xc000a2f040 0xc000a2edc0 0xc000a2f0e0 0xc0006a4a00 0xc000a2f180 0xc0006a5220 0xc0006a5180 0xc0006a4d20 0xc0006a4c80 0xc0006a4aa0 0xc0006a4e60 0xc0006a4fa0 0xc0006a4dc0 0xc0006a4960 0xc0006a4b40 0xc000a2f220 0xc000a2f2c0 0xc000a2f360 0xc0006a4f00 0xc000a2f400 0xc000a2f4a0] map[104:0xc000a2f7c0 118:0xc000a2f400] [] -1 0 0xc000591260 true 0xa43500 []}
2023-01-09T04:55:26.655736457Z I0109 04:55:26.655706       1 cmd.go:93] (*installerpod.InstallOptions)(0xc000102d00)({
2023-01-09T04:55:26.655736457Z  KubeConfig: (string) "",
2023-01-09T04:55:26.655736457Z  KubeClient: (kubernetes.Interface) <nil>,
2023-01-09T04:55:26.655736457Z  Revision: (string) (len=1) "8",
2023-01-09T04:55:26.655736457Z  NodeName: (string) "",
2023-01-09T04:55:26.655736457Z  Namespace: (string) (len=24) "openshift-kube-apiserver",
2023-01-09T04:55:26.655736457Z  PodConfigMapNamePrefix: (string) (len=18) "kube-apiserver-pod",
2023-01-09T04:55:26.655736457Z  SecretNamePrefixes: ([]string) (len=3 cap=4) {
2023-01-09T04:55:26.655736457Z   (string) (len=11) "etcd-client",
2023-01-09T04:55:26.655736457Z   (string) (len=34) "localhost-recovery-serving-certkey",
2023-01-09T04:55:26.655736457Z   (string) (len=31) "localhost-recovery-client-token"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  OptionalSecretNamePrefixes: ([]string) (len=2 cap=2) {
2023-01-09T04:55:26.655736457Z   (string) (len=17) "encryption-config",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "webhook-authenticator"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  ConfigMapNamePrefixes: ([]string) (len=8 cap=8) {
2023-01-09T04:55:26.655736457Z   (string) (len=18) "kube-apiserver-pod",
2023-01-09T04:55:26.655736457Z   (string) (len=6) "config",
2023-01-09T04:55:26.655736457Z   (string) (len=37) "kube-apiserver-cert-syncer-kubeconfig",
2023-01-09T04:55:26.655736457Z   (string) (len=28) "bound-sa-token-signing-certs",
2023-01-09T04:55:26.655736457Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:55:26.655736457Z   (string) (len=18) "kubelet-serving-ca",
2023-01-09T04:55:26.655736457Z   (string) (len=22) "sa-token-signing-certs",
2023-01-09T04:55:26.655736457Z   (string) (len=29) "kube-apiserver-audit-policies"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  OptionalConfigMapNamePrefixes: ([]string) (len=3 cap=4) {
2023-01-09T04:55:26.655736457Z   (string) (len=14) "oauth-metadata",
2023-01-09T04:55:26.655736457Z   (string) (len=12) "cloud-config",
2023-01-09T04:55:26.655736457Z   (string) (len=24) "kube-apiserver-server-ca"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  CertSecretNames: ([]string) (len=10 cap=16) {
2023-01-09T04:55:26.655736457Z   (string) (len=17) "aggregator-client",
2023-01-09T04:55:26.655736457Z   (string) (len=30) "localhost-serving-cert-certkey",
2023-01-09T04:55:26.655736457Z   (string) (len=31) "service-network-serving-certkey",
2023-01-09T04:55:26.655736457Z   (string) (len=37) "external-loadbalancer-serving-certkey",
2023-01-09T04:55:26.655736457Z   (string) (len=37) "internal-loadbalancer-serving-certkey",
2023-01-09T04:55:26.655736457Z   (string) (len=33) "bound-service-account-signing-key",
2023-01-09T04:55:26.655736457Z   (string) (len=40) "control-plane-node-admin-client-cert-key",
2023-01-09T04:55:26.655736457Z   (string) (len=31) "check-endpoints-client-cert-key",
2023-01-09T04:55:26.655736457Z   (string) (len=14) "kubelet-client",
2023-01-09T04:55:26.655736457Z   (string) (len=16) "node-kubeconfigs"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  OptionalCertSecretNamePrefixes: ([]string) (len=11 cap=16) {
2023-01-09T04:55:26.655736457Z   (string) (len=17) "user-serving-cert",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-000",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-001",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-002",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-003",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-004",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-005",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-006",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-007",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-008",
2023-01-09T04:55:26.655736457Z   (string) (len=21) "user-serving-cert-009"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  CertConfigMapNamePrefixes: ([]string) (len=4 cap=4) {
2023-01-09T04:55:26.655736457Z   (string) (len=20) "aggregator-client-ca",
2023-01-09T04:55:26.655736457Z   (string) (len=9) "client-ca",
2023-01-09T04:55:26.655736457Z   (string) (len=29) "control-plane-node-kubeconfig",
2023-01-09T04:55:26.655736457Z   (string) (len=26) "check-endpoints-kubeconfig"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  OptionalCertConfigMapNamePrefixes: ([]string) (len=1 cap=1) {
2023-01-09T04:55:26.655736457Z   (string) (len=17) "trusted-ca-bundle"
2023-01-09T04:55:26.655736457Z  },
2023-01-09T04:55:26.655736457Z  CertDir: (string) (len=57) "/etc/kubernetes/static-pod-resources/kube-apiserver-certs",
2023-01-09T04:55:26.655736457Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2023-01-09T04:55:26.655736457Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2023-01-09T04:55:26.655736457Z  Timeout: (time.Duration) 2m0s,
2023-01-09T04:55:26.655736457Z  StaticPodManifestsLockFile: (string) "",
2023-01-09T04:55:26.655736457Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2023-01-09T04:55:26.655736457Z  KubeletVersion: (string) ""
2023-01-09T04:55:26.655736457Z })
2023-01-09T04:55:26.656411636Z I0109 04:55:26.656375       1 cmd.go:410] Getting controller reference for node ip-10-0-145-4.us-east-2.compute.internal
2023-01-09T04:55:26.666822937Z I0109 04:55:26.666790       1 cmd.go:423] Waiting for installer revisions to settle for node ip-10-0-145-4.us-east-2.compute.internal
2023-01-09T04:55:26.671108615Z I0109 04:55:26.671089       1 cmd.go:515] Waiting additional period after revisions have settled for node ip-10-0-145-4.us-east-2.compute.internal
2023-01-09T04:55:56.671225422Z I0109 04:55:56.671185       1 cmd.go:521] Getting installer pods for node ip-10-0-145-4.us-east-2.compute.internal
2023-01-09T04:55:56.677339896Z I0109 04:55:56.677305       1 cmd.go:539] Latest installer revision for node ip-10-0-145-4.us-east-2.compute.internal is: 8
2023-01-09T04:55:56.677339896Z I0109 04:55:56.677327       1 cmd.go:428] Querying kubelet version for node ip-10-0-145-4.us-east-2.compute.internal
2023-01-09T04:55:56.680418756Z I0109 04:55:56.680392       1 cmd.go:441] Got kubelet version 1.25.4+77bec7a on target node ip-10-0-145-4.us-east-2.compute.internal
2023-01-09T04:55:56.680434610Z I0109 04:55:56.680415       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8" ...
2023-01-09T04:55:56.680515916Z I0109 04:55:56.680503       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8" ...
2023-01-09T04:55:56.680524406Z I0109 04:55:56.680515       1 cmd.go:226] Getting secrets ...
2023-01-09T04:55:56.683303584Z I0109 04:55:56.683284       1 copy.go:32] Got secret openshift-kube-apiserver/etcd-client-8
2023-01-09T04:55:56.686419743Z I0109 04:55:56.686397       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-client-token-8
2023-01-09T04:55:56.690860562Z I0109 04:55:56.690833       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-serving-certkey-8
2023-01-09T04:55:56.693596289Z I0109 04:55:56.693576       1 copy.go:24] Failed to get secret openshift-kube-apiserver/encryption-config-8: secrets "encryption-config-8" not found
2023-01-09T04:55:56.696162674Z I0109 04:55:56.696143       1 copy.go:32] Got secret openshift-kube-apiserver/webhook-authenticator-8
2023-01-09T04:55:56.696177020Z I0109 04:55:56.696170       1 cmd.go:239] Getting config maps ...
2023-01-09T04:55:56.699086959Z I0109 04:55:56.699065       1 copy.go:60] Got configMap openshift-kube-apiserver/bound-sa-token-signing-certs-8
2023-01-09T04:55:56.701688817Z I0109 04:55:56.701669       1 copy.go:60] Got configMap openshift-kube-apiserver/config-8
2023-01-09T04:55:56.704882140Z I0109 04:55:56.704864       1 copy.go:60] Got configMap openshift-kube-apiserver/etcd-serving-ca-8
2023-01-09T04:55:56.877094577Z I0109 04:55:56.877058       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-audit-policies-8
2023-01-09T04:55:57.074835704Z I0109 04:55:57.074777       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-cert-syncer-kubeconfig-8
2023-01-09T04:55:57.275377068Z I0109 04:55:57.275331       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-pod-8
2023-01-09T04:55:57.476590198Z I0109 04:55:57.476551       1 copy.go:60] Got configMap openshift-kube-apiserver/kubelet-serving-ca-8
2023-01-09T04:55:57.675348512Z I0109 04:55:57.675307       1 copy.go:60] Got configMap openshift-kube-apiserver/sa-token-signing-certs-8
2023-01-09T04:55:57.875029963Z I0109 04:55:57.874988       1 copy.go:52] Failed to get config map openshift-kube-apiserver/cloud-config-8: configmaps "cloud-config-8" not found
2023-01-09T04:55:58.075697366Z I0109 04:55:58.075660       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-server-ca-8
2023-01-09T04:55:58.276874983Z I0109 04:55:58.276834       1 copy.go:60] Got configMap openshift-kube-apiserver/oauth-metadata-8
2023-01-09T04:55:58.276874983Z I0109 04:55:58.276859       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/etcd-client" ...
2023-01-09T04:55:58.276986578Z I0109 04:55:58.276970       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/etcd-client/tls.crt" ...
2023-01-09T04:55:58.277060780Z I0109 04:55:58.277048       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/etcd-client/tls.key" ...
2023-01-09T04:55:58.277117636Z I0109 04:55:58.277105       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-client-token" ...
2023-01-09T04:55:58.277154092Z I0109 04:55:58.277142       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-client-token/service-ca.crt" ...
2023-01-09T04:55:58.277211284Z I0109 04:55:58.277199       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-client-token/token" ...
2023-01-09T04:55:58.277267380Z I0109 04:55:58.277255       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-client-token/ca.crt" ...
2023-01-09T04:55:58.277319099Z I0109 04:55:58.277306       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-client-token/namespace" ...
2023-01-09T04:55:58.277368745Z I0109 04:55:58.277356       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-serving-certkey" ...
2023-01-09T04:55:58.277402726Z I0109 04:55:58.277391       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-serving-certkey/tls.crt" ...
2023-01-09T04:55:58.277449888Z I0109 04:55:58.277438       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/localhost-recovery-serving-certkey/tls.key" ...
2023-01-09T04:55:58.277500495Z I0109 04:55:58.277488       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/webhook-authenticator" ...
2023-01-09T04:55:58.277534732Z I0109 04:55:58.277523       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/secrets/webhook-authenticator/kubeConfig" ...
2023-01-09T04:55:58.277596817Z I0109 04:55:58.277584       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/bound-sa-token-signing-certs" ...
2023-01-09T04:55:58.277653398Z I0109 04:55:58.277641       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/bound-sa-token-signing-certs/service-account-001.pub" ...
2023-01-09T04:55:58.277708275Z I0109 04:55:58.277696       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/config" ...
2023-01-09T04:55:58.277744440Z I0109 04:55:58.277732       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/config/config.yaml" ...
2023-01-09T04:55:58.277796284Z I0109 04:55:58.277784       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/etcd-serving-ca" ...
2023-01-09T04:55:58.277863384Z I0109 04:55:58.277847       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:55:58.277919856Z I0109 04:55:58.277905       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-audit-policies" ...
2023-01-09T04:55:58.277953467Z I0109 04:55:58.277939       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-audit-policies/policy.yaml" ...
2023-01-09T04:55:58.278003593Z I0109 04:55:58.277989       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-cert-syncer-kubeconfig" ...
2023-01-09T04:55:58.278037216Z I0109 04:55:58.278023       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig" ...
2023-01-09T04:55:58.278087976Z I0109 04:55:58.278074       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-pod" ...
2023-01-09T04:55:58.278122590Z I0109 04:55:58.278110       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-pod/forceRedeploymentReason" ...
2023-01-09T04:55:58.278167114Z I0109 04:55:58.278155       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-pod/pod.yaml" ...
2023-01-09T04:55:58.278217107Z I0109 04:55:58.278205       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-pod/version" ...
2023-01-09T04:55:58.278266222Z I0109 04:55:58.278254       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kubelet-serving-ca" ...
2023-01-09T04:55:58.278323908Z I0109 04:55:58.278312       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kubelet-serving-ca/ca-bundle.crt" ...
2023-01-09T04:55:58.278376318Z I0109 04:55:58.278364       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/sa-token-signing-certs" ...
2023-01-09T04:55:58.278410523Z I0109 04:55:58.278398       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/sa-token-signing-certs/service-account-001.pub" ...
2023-01-09T04:55:58.278461240Z I0109 04:55:58.278449       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/sa-token-signing-certs/service-account-002.pub" ...
2023-01-09T04:55:58.278511177Z I0109 04:55:58.278499       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-server-ca" ...
2023-01-09T04:55:58.278546309Z I0109 04:55:58.278534       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/kube-apiserver-server-ca/ca-bundle.crt" ...
2023-01-09T04:55:58.278595563Z I0109 04:55:58.278584       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/oauth-metadata" ...
2023-01-09T04:55:58.278653814Z I0109 04:55:58.278641       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/configmaps/oauth-metadata/oauthMetadata" ...
2023-01-09T04:55:58.278707369Z I0109 04:55:58.278695       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs" ...
2023-01-09T04:55:58.278742560Z I0109 04:55:58.278732       1 cmd.go:226] Getting secrets ...
2023-01-09T04:55:58.475443743Z I0109 04:55:58.475405       1 copy.go:32] Got secret openshift-kube-apiserver/aggregator-client
2023-01-09T04:55:58.676362422Z I0109 04:55:58.676323       1 copy.go:32] Got secret openshift-kube-apiserver/bound-service-account-signing-key
2023-01-09T04:55:58.875044182Z I0109 04:55:58.875004       1 copy.go:32] Got secret openshift-kube-apiserver/check-endpoints-client-cert-key
2023-01-09T04:55:59.074204084Z I0109 04:55:59.074162       1 copy.go:32] Got secret openshift-kube-apiserver/control-plane-node-admin-client-cert-key
2023-01-09T04:55:59.275151903Z I0109 04:55:59.275114       1 copy.go:32] Got secret openshift-kube-apiserver/external-loadbalancer-serving-certkey
2023-01-09T04:55:59.477404496Z I0109 04:55:59.477363       1 copy.go:32] Got secret openshift-kube-apiserver/internal-loadbalancer-serving-certkey
2023-01-09T04:55:59.675743748Z I0109 04:55:59.675655       1 copy.go:32] Got secret openshift-kube-apiserver/kubelet-client
2023-01-09T04:55:59.874401553Z I0109 04:55:59.874360       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-serving-cert-certkey
2023-01-09T04:56:00.075941790Z I0109 04:56:00.075895       1 copy.go:32] Got secret openshift-kube-apiserver/node-kubeconfigs
2023-01-09T04:56:00.275918265Z I0109 04:56:00.275878       1 copy.go:32] Got secret openshift-kube-apiserver/service-network-serving-certkey
2023-01-09T04:56:00.475438583Z I0109 04:56:00.475401       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert: secrets "user-serving-cert" not found
2023-01-09T04:56:00.674915667Z I0109 04:56:00.674873       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-000: secrets "user-serving-cert-000" not found
2023-01-09T04:56:00.875516961Z I0109 04:56:00.875468       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-001: secrets "user-serving-cert-001" not found
2023-01-09T04:56:01.076760643Z I0109 04:56:01.076723       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-002: secrets "user-serving-cert-002" not found
2023-01-09T04:56:01.275680140Z I0109 04:56:01.275626       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-003: secrets "user-serving-cert-003" not found
2023-01-09T04:56:01.475432007Z I0109 04:56:01.475380       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-004: secrets "user-serving-cert-004" not found
2023-01-09T04:56:01.674935410Z I0109 04:56:01.674895       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-005: secrets "user-serving-cert-005" not found
2023-01-09T04:56:01.876830952Z I0109 04:56:01.876780       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-006: secrets "user-serving-cert-006" not found
2023-01-09T04:56:02.075130273Z I0109 04:56:02.075082       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-007: secrets "user-serving-cert-007" not found
2023-01-09T04:56:02.274978679Z I0109 04:56:02.274940       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-008: secrets "user-serving-cert-008" not found
2023-01-09T04:56:02.476068634Z I0109 04:56:02.476022       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-009: secrets "user-serving-cert-009" not found
2023-01-09T04:56:02.476068634Z I0109 04:56:02.476053       1 cmd.go:239] Getting config maps ...
2023-01-09T04:56:02.675889858Z I0109 04:56:02.675848       1 copy.go:60] Got configMap openshift-kube-apiserver/aggregator-client-ca
2023-01-09T04:56:02.875224262Z I0109 04:56:02.875181       1 copy.go:60] Got configMap openshift-kube-apiserver/check-endpoints-kubeconfig
2023-01-09T04:56:03.074923777Z I0109 04:56:03.074880       1 copy.go:60] Got configMap openshift-kube-apiserver/client-ca
2023-01-09T04:56:03.276892836Z I0109 04:56:03.276846       1 copy.go:60] Got configMap openshift-kube-apiserver/control-plane-node-kubeconfig
2023-01-09T04:56:03.480018273Z I0109 04:56:03.479978       1 copy.go:60] Got configMap openshift-kube-apiserver/trusted-ca-bundle
2023-01-09T04:56:03.480299588Z I0109 04:56:03.480283       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client" ...
2023-01-09T04:56:03.480402623Z I0109 04:56:03.480388       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.crt" ...
2023-01-09T04:56:03.480482546Z I0109 04:56:03.480468       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.key" ...
2023-01-09T04:56:03.480537424Z I0109 04:56:03.480523       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key" ...
2023-01-09T04:56:03.480573648Z I0109 04:56:03.480561       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.key" ...
2023-01-09T04:56:03.480633184Z I0109 04:56:03.480620       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.pub" ...
2023-01-09T04:56:03.480682971Z I0109 04:56:03.480671       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key" ...
2023-01-09T04:56:03.480714831Z I0109 04:56:03.480703       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.crt" ...
2023-01-09T04:56:03.480761936Z I0109 04:56:03.480750       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.key" ...
2023-01-09T04:56:03.480827250Z I0109 04:56:03.480797       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key" ...
2023-01-09T04:56:03.480862094Z I0109 04:56:03.480850       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.crt" ...
2023-01-09T04:56:03.480911790Z I0109 04:56:03.480899       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.key" ...
2023-01-09T04:56:03.480961606Z I0109 04:56:03.480949       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey" ...
2023-01-09T04:56:03.480996235Z I0109 04:56:03.480984       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.key" ...
2023-01-09T04:56:03.481044032Z I0109 04:56:03.481032       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.crt" ...
2023-01-09T04:56:03.481092119Z I0109 04:56:03.481080       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey" ...
2023-01-09T04:56:03.481125840Z I0109 04:56:03.481114       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.crt" ...
2023-01-09T04:56:03.481184842Z I0109 04:56:03.481172       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.key" ...
2023-01-09T04:56:03.481232958Z I0109 04:56:03.481221       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client" ...
2023-01-09T04:56:03.481267429Z I0109 04:56:03.481255       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.crt" ...
2023-01-09T04:56:03.481314904Z I0109 04:56:03.481303       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.key" ...
2023-01-09T04:56:03.481363653Z I0109 04:56:03.481351       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey" ...
2023-01-09T04:56:03.481430184Z I0109 04:56:03.481408       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.crt" ...
2023-01-09T04:56:03.481487203Z I0109 04:56:03.481474       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.key" ...
2023-01-09T04:56:03.481536854Z I0109 04:56:03.481525       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs" ...
2023-01-09T04:56:03.481574571Z I0109 04:56:03.481562       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-int.kubeconfig" ...
2023-01-09T04:56:03.481628551Z I0109 04:56:03.481616       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost-recovery.kubeconfig" ...
2023-01-09T04:56:03.481683400Z I0109 04:56:03.481671       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost.kubeconfig" ...
2023-01-09T04:56:03.481736429Z I0109 04:56:03.481724       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-ext.kubeconfig" ...
2023-01-09T04:56:03.481789806Z I0109 04:56:03.481777       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey" ...
2023-01-09T04:56:03.481852018Z I0109 04:56:03.481838       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.key" ...
2023-01-09T04:56:03.481901642Z I0109 04:56:03.481889       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.crt" ...
2023-01-09T04:56:03.481952575Z I0109 04:56:03.481940       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca" ...
2023-01-09T04:56:03.482007636Z I0109 04:56:03.481995       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca/ca-bundle.crt" ...
2023-01-09T04:56:03.482056366Z I0109 04:56:03.482044       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig" ...
2023-01-09T04:56:03.482089508Z I0109 04:56:03.482077       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig/kubeconfig" ...
2023-01-09T04:56:03.482138748Z I0109 04:56:03.482127       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca" ...
2023-01-09T04:56:03.482172703Z I0109 04:56:03.482161       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca/ca-bundle.crt" ...
2023-01-09T04:56:03.482225655Z I0109 04:56:03.482213       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig" ...
2023-01-09T04:56:03.482260404Z I0109 04:56:03.482248       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig/kubeconfig" ...
2023-01-09T04:56:03.482317252Z I0109 04:56:03.482299       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle" ...
2023-01-09T04:56:03.482390431Z I0109 04:56:03.482373       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle/ca-bundle.crt" ...
2023-01-09T04:56:03.482535241Z I0109 04:56:03.482523       1 cmd.go:332] Getting pod configmaps/kube-apiserver-pod-8 -n openshift-kube-apiserver
2023-01-09T04:56:03.675265583Z I0109 04:56:03.675223       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2023-01-09T04:56:03.675307068Z I0109 04:56:03.675262       1 cmd.go:376] Writing a pod under "kube-apiserver-pod.yaml" key 
2023-01-09T04:56:03.675307068Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"8"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/usr/bin/timeout","279","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 194s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 194s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 194 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=194s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"8"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":45,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":194,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
2023-01-09T04:56:03.683200303Z I0109 04:56:03.679852       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8/kube-apiserver-pod.yaml" ...
2023-01-09T04:56:03.683200303Z I0109 04:56:03.679979       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2023-01-09T04:56:03.683200303Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"8"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-8"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/usr/bin/timeout","279","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 194s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 194s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 194 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:662c00a50b8327cc39963577d3e11aa71458b3888ce06223a4501679a28fecd1","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=194s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"8"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":45,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ed61d19216d71cc5692c22402961b0f865ed8629f5d64f1687aa47af601c018","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":194,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
