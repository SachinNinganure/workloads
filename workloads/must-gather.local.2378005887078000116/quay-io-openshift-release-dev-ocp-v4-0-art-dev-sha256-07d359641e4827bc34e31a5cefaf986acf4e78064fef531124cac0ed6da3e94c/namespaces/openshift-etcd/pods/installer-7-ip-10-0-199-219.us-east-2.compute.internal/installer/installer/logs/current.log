2023-01-09T04:49:23.285450418Z I0109 04:49:23.285212       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc000c28820 cert-dir:0xc000c28a00 cert-secrets:0xc000c28780 configmaps:0xc000c28320 namespace:0xc000c28140 pod:0xc000c281e0 pod-manifest-dir:0xc000c285a0 resource-dir:0xc000c28500 revision:0xc000c280a0 secrets:0xc000c28280 v:0xc000c05360] [0xc000c05360 0xc000c280a0 0xc000c28140 0xc000c281e0 0xc000c28500 0xc000c285a0 0xc000c28320 0xc000c28280 0xc000c28a00 0xc000c28820 0xc000c28780] [] map[add-dir-header:0xc000c04be0 alsologtostderr:0xc000c04c80 cert-configmaps:0xc000c28820 cert-dir:0xc000c28a00 cert-secrets:0xc000c28780 configmaps:0xc000c28320 help:0xc000c38aa0 kubeconfig:0xc000c28000 log-backtrace-at:0xc000c04dc0 log-dir:0xc000c04e60 log-file:0xc000c04f00 log-file-max-size:0xc000c04fa0 log-flush-frequency:0xc000c04d20 logtostderr:0xc000c05040 namespace:0xc000c28140 one-output:0xc000c050e0 optional-cert-configmaps:0xc000c28960 optional-cert-secrets:0xc000c288c0 optional-configmaps:0xc000c28460 optional-secrets:0xc000c283c0 pod:0xc000c281e0 pod-manifest-dir:0xc000c285a0 pod-manifests-lock-file:0xc000c286e0 resource-dir:0xc000c28500 revision:0xc000c280a0 secrets:0xc000c28280 skip-headers:0xc000c05180 skip-log-headers:0xc000c05220 stderrthreshold:0xc000c052c0 timeout-duration:0xc000c28640 v:0xc000c05360 vmodule:0xc000c05400] [0xc000c28000 0xc000c280a0 0xc000c28140 0xc000c281e0 0xc000c28280 0xc000c28320 0xc000c283c0 0xc000c28460 0xc000c28500 0xc000c285a0 0xc000c28640 0xc000c286e0 0xc000c28780 0xc000c28820 0xc000c288c0 0xc000c28960 0xc000c28a00 0xc000c04be0 0xc000c04c80 0xc000c04dc0 0xc000c04e60 0xc000c04f00 0xc000c04fa0 0xc000c04d20 0xc000c05040 0xc000c050e0 0xc000c05180 0xc000c05220 0xc000c052c0 0xc000c05360 0xc000c05400 0xc000c38aa0] [0xc000c04be0 0xc000c04c80 0xc000c28820 0xc000c28a00 0xc000c28780 0xc000c28320 0xc000c38aa0 0xc000c28000 0xc000c04dc0 0xc000c04e60 0xc000c04f00 0xc000c04fa0 0xc000c04d20 0xc000c05040 0xc000c28140 0xc000c050e0 0xc000c28960 0xc000c288c0 0xc000c28460 0xc000c283c0 0xc000c281e0 0xc000c285a0 0xc000c286e0 0xc000c28500 0xc000c280a0 0xc000c28280 0xc000c05180 0xc000c05220 0xc000c052c0 0xc000c28640 0xc000c05360 0xc000c05400] map[104:0xc000c38aa0 118:0xc000c05360] [] -1 0 0xc0009c32f0 true <nil> []}
2023-01-09T04:49:23.285540135Z I0109 04:49:23.285476       1 cmd.go:93] (*installerpod.InstallOptions)(0xc0009d8d00)({
2023-01-09T04:49:23.285540135Z  KubeConfig: (string) "",
2023-01-09T04:49:23.285540135Z  KubeClient: (kubernetes.Interface) <nil>,
2023-01-09T04:49:23.285540135Z  Revision: (string) (len=1) "7",
2023-01-09T04:49:23.285540135Z  NodeName: (string) "",
2023-01-09T04:49:23.285540135Z  Namespace: (string) (len=14) "openshift-etcd",
2023-01-09T04:49:23.285540135Z  PodConfigMapNamePrefix: (string) (len=8) "etcd-pod",
2023-01-09T04:49:23.285540135Z  SecretNamePrefixes: ([]string) (len=1 cap=1) {
2023-01-09T04:49:23.285540135Z   (string) (len=14) "etcd-all-certs"
2023-01-09T04:49:23.285540135Z  },
2023-01-09T04:49:23.285540135Z  OptionalSecretNamePrefixes: ([]string) <nil>,
2023-01-09T04:49:23.285540135Z  ConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2023-01-09T04:49:23.285540135Z   (string) (len=8) "etcd-pod",
2023-01-09T04:49:23.285540135Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=19) "etcd-peer-client-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=28) "etcd-metrics-proxy-client-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=14) "etcd-endpoints"
2023-01-09T04:49:23.285540135Z  },
2023-01-09T04:49:23.285540135Z  OptionalConfigMapNamePrefixes: ([]string) <nil>,
2023-01-09T04:49:23.285540135Z  CertSecretNames: ([]string) (len=1 cap=1) {
2023-01-09T04:49:23.285540135Z   (string) (len=14) "etcd-all-certs"
2023-01-09T04:49:23.285540135Z  },
2023-01-09T04:49:23.285540135Z  OptionalCertSecretNamePrefixes: ([]string) <nil>,
2023-01-09T04:49:23.285540135Z  CertConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2023-01-09T04:49:23.285540135Z   (string) (len=16) "restore-etcd-pod",
2023-01-09T04:49:23.285540135Z   (string) (len=12) "etcd-scripts",
2023-01-09T04:49:23.285540135Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=19) "etcd-peer-client-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2023-01-09T04:49:23.285540135Z   (string) (len=28) "etcd-metrics-proxy-client-ca"
2023-01-09T04:49:23.285540135Z  },
2023-01-09T04:49:23.285540135Z  OptionalCertConfigMapNamePrefixes: ([]string) <nil>,
2023-01-09T04:49:23.285540135Z  CertDir: (string) (len=47) "/etc/kubernetes/static-pod-resources/etcd-certs",
2023-01-09T04:49:23.285540135Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2023-01-09T04:49:23.285540135Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2023-01-09T04:49:23.285540135Z  Timeout: (time.Duration) 2m0s,
2023-01-09T04:49:23.285540135Z  StaticPodManifestsLockFile: (string) "",
2023-01-09T04:49:23.285540135Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2023-01-09T04:49:23.285540135Z  KubeletVersion: (string) ""
2023-01-09T04:49:23.285540135Z })
2023-01-09T04:49:23.286256864Z I0109 04:49:23.286217       1 cmd.go:410] Getting controller reference for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:49:23.381686606Z I0109 04:49:23.381648       1 cmd.go:423] Waiting for installer revisions to settle for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:49:23.385788447Z I0109 04:49:23.385758       1 cmd.go:515] Waiting additional period after revisions have settled for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:49:53.385913263Z I0109 04:49:53.385872       1 cmd.go:521] Getting installer pods for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:49:53.390903757Z I0109 04:49:53.390868       1 cmd.go:539] Latest installer revision for node ip-10-0-199-219.us-east-2.compute.internal is: 7
2023-01-09T04:49:53.390903757Z I0109 04:49:53.390891       1 cmd.go:428] Querying kubelet version for node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:49:53.393861453Z I0109 04:49:53.393830       1 cmd.go:441] Got kubelet version 1.25.4+77bec7a on target node ip-10-0-199-219.us-east-2.compute.internal
2023-01-09T04:49:53.393861453Z I0109 04:49:53.393852       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-7" ...
2023-01-09T04:49:53.393942195Z I0109 04:49:53.393927       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-7" ...
2023-01-09T04:49:53.393956901Z I0109 04:49:53.393942       1 cmd.go:226] Getting secrets ...
2023-01-09T04:49:53.396778063Z I0109 04:49:53.396750       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs-7
2023-01-09T04:49:53.396891958Z I0109 04:49:53.396868       1 cmd.go:239] Getting config maps ...
2023-01-09T04:49:53.399182572Z I0109 04:49:53.399160       1 copy.go:60] Got configMap openshift-etcd/etcd-endpoints-7
2023-01-09T04:49:53.401270501Z I0109 04:49:53.401249       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca-7
2023-01-09T04:49:53.403324264Z I0109 04:49:53.403302       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca-7
2023-01-09T04:49:53.405508922Z I0109 04:49:53.405475       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca-7
2023-01-09T04:49:53.408219715Z I0109 04:49:53.408178       1 copy.go:60] Got configMap openshift-etcd/etcd-pod-7
2023-01-09T04:49:53.410411307Z I0109 04:49:53.410388       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca-7
2023-01-09T04:49:53.410433357Z I0109 04:49:53.410414       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs" ...
2023-01-09T04:49:53.410521896Z I0109 04:49:53.410508       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.410606796Z I0109 04:49:53.410593       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.410678275Z I0109 04:49:53.410665       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.410771032Z I0109 04:49:53.410757       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.410854617Z I0109 04:49:53.410841       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.410930395Z I0109 04:49:53.410917       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.410992612Z I0109 04:49:53.410979       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411066596Z I0109 04:49:53.411051       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.411123043Z I0109 04:49:53.411110       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411186102Z I0109 04:49:53.411173       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.411250854Z I0109 04:49:53.411238       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411313625Z I0109 04:49:53.411300       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411403066Z I0109 04:49:53.411387       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411477791Z I0109 04:49:53.411463       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411548388Z I0109 04:49:53.411533       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.411606435Z I0109 04:49:53.411593       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.411697175Z I0109 04:49:53.411656       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:53.411786348Z I0109 04:49:53.411770       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:49:53.411855782Z I0109 04:49:53.411841       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints" ...
2023-01-09T04:49:53.411922614Z I0109 04:49:53.411908       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/4cfac3d64d9ed566" ...
2023-01-09T04:49:53.411998012Z I0109 04:49:53.411983       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/a9212f5cca23387a" ...
2023-01-09T04:49:53.412057372Z I0109 04:49:53.412043       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/cebc4266beb3f2a1" ...
2023-01-09T04:49:53.412127581Z I0109 04:49:53.412106       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-client-ca" ...
2023-01-09T04:49:53.412172987Z I0109 04:49:53.412159       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2023-01-09T04:49:53.412237041Z I0109 04:49:53.412223       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-serving-ca" ...
2023-01-09T04:49:53.412278355Z I0109 04:49:53.412265       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2023-01-09T04:49:53.412352727Z I0109 04:49:53.412327       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-peer-client-ca" ...
2023-01-09T04:49:53.412399046Z I0109 04:49:53.412385       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2023-01-09T04:49:53.412461661Z I0109 04:49:53.412448       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod" ...
2023-01-09T04:49:53.412512600Z I0109 04:49:53.412499       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/pod.yaml" ...
2023-01-09T04:49:53.412583544Z I0109 04:49:53.412569       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/version" ...
2023-01-09T04:49:53.412646149Z I0109 04:49:53.412632       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/forceRedeploymentReason" ...
2023-01-09T04:49:53.412701511Z I0109 04:49:53.412688       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-serving-ca" ...
2023-01-09T04:49:53.412744229Z I0109 04:49:53.412731       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:49:53.412809509Z I0109 04:49:53.412795       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-certs" ...
2023-01-09T04:49:53.412822021Z I0109 04:49:53.412810       1 cmd.go:226] Getting secrets ...
2023-01-09T04:49:53.415513178Z I0109 04:49:53.415486       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs
2023-01-09T04:49:53.415614123Z I0109 04:49:53.415602       1 cmd.go:239] Getting config maps ...
2023-01-09T04:49:53.589576120Z I0109 04:49:53.589533       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca
2023-01-09T04:49:53.789533242Z I0109 04:49:53.789491       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca
2023-01-09T04:49:53.989413776Z I0109 04:49:53.989371       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca
2023-01-09T04:49:54.189685337Z I0109 04:49:54.189637       1 copy.go:60] Got configMap openshift-etcd/etcd-scripts
2023-01-09T04:49:54.389662950Z I0109 04:49:54.389616       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca
2023-01-09T04:49:54.590895755Z I0109 04:49:54.590852       1 copy.go:60] Got configMap openshift-etcd/restore-etcd-pod
2023-01-09T04:49:54.590944133Z I0109 04:49:54.590928       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs" ...
2023-01-09T04:49:54.590969398Z I0109 04:49:54.590957       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.591130129Z I0109 04:49:54.591116       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.591219680Z I0109 04:49:54.591206       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.591298195Z I0109 04:49:54.591285       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.591411185Z I0109 04:49:54.591394       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.591492251Z I0109 04:49:54.591477       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.591584128Z I0109 04:49:54.591566       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.591693768Z I0109 04:49:54.591677       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.591803127Z I0109 04:49:54.591783       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.591912497Z I0109 04:49:54.591896       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.592009657Z I0109 04:49:54.591994       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.592108424Z I0109 04:49:54.592092       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.592214420Z I0109 04:49:54.592199       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.592315509Z I0109 04:49:54.592298       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.592457228Z I0109 04:49:54.592425       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:49:54.592525882Z I0109 04:49:54.592503       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.592592966Z I0109 04:49:54.592578       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.592684100Z I0109 04:49:54.592666       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:49:54.592765583Z I0109 04:49:54.592749       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca" ...
2023-01-09T04:49:54.592787042Z I0109 04:49:54.592769       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2023-01-09T04:49:54.592876317Z I0109 04:49:54.592861       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca" ...
2023-01-09T04:49:54.592887820Z I0109 04:49:54.592879       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2023-01-09T04:49:54.593009031Z I0109 04:49:54.592989       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca" ...
2023-01-09T04:49:54.593024982Z I0109 04:49:54.593009       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2023-01-09T04:49:54.593110329Z I0109 04:49:54.593096       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts" ...
2023-01-09T04:49:54.593120682Z I0109 04:49:54.593113       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-backup.sh" ...
2023-01-09T04:49:54.593436910Z I0109 04:49:54.593404       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-restore.sh" ...
2023-01-09T04:49:54.593636042Z I0109 04:49:54.593607       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools" ...
2023-01-09T04:49:54.593794125Z I0109 04:49:54.593774       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env" ...
2023-01-09T04:49:54.593889227Z I0109 04:49:54.593873       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca" ...
2023-01-09T04:49:54.593902822Z I0109 04:49:54.593893       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:49:54.594016636Z I0109 04:49:54.593995       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod" ...
2023-01-09T04:49:54.594028967Z I0109 04:49:54.594021       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/pod.yaml" ...
2023-01-09T04:49:54.594137587Z I0109 04:49:54.594122       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/version" ...
2023-01-09T04:49:54.594226963Z I0109 04:49:54.594210       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/forceRedeploymentReason" ...
2023-01-09T04:49:54.594301602Z I0109 04:49:54.594288       1 cmd.go:332] Getting pod configmaps/etcd-pod-7 -n openshift-etcd
2023-01-09T04:49:54.790404085Z I0109 04:49:54.790359       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2023-01-09T04:49:54.790439243Z I0109 04:49:54.790398       1 cmd.go:376] Writing a pod under "etcd-pod.yaml" key 
2023-01-09T04:49:54.790439243Z apiVersion: v1
2023-01-09T04:49:54.790439243Z kind: Pod
2023-01-09T04:49:54.790439243Z metadata:
2023-01-09T04:49:54.790439243Z   name: etcd
2023-01-09T04:49:54.790439243Z   namespace: openshift-etcd
2023-01-09T04:49:54.790439243Z   annotations:
2023-01-09T04:49:54.790439243Z     kubectl.kubernetes.io/default-container: etcd
2023-01-09T04:49:54.790439243Z     target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
2023-01-09T04:49:54.790439243Z   labels:
2023-01-09T04:49:54.790439243Z     app: etcd
2023-01-09T04:49:54.790439243Z     k8s-app: etcd
2023-01-09T04:49:54.790439243Z     etcd: "true"
2023-01-09T04:49:54.790439243Z     revision: "7"
2023-01-09T04:49:54.790439243Z spec:
2023-01-09T04:49:54.790439243Z   initContainers:
2023-01-09T04:49:54.790439243Z     - name: setup
2023-01-09T04:49:54.790439243Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:49:54.790439243Z       imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790439243Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790439243Z       command:
2023-01-09T04:49:54.790439243Z         - /bin/sh
2023-01-09T04:49:54.790439243Z         - -c
2023-01-09T04:49:54.790439243Z         - |
2023-01-09T04:49:54.790439243Z           #!/bin/sh
2023-01-09T04:49:54.790439243Z           echo -n "Fixing etcd log permissions."
2023-01-09T04:49:54.790439243Z           chmod 0700 /var/log/etcd && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*
2023-01-09T04:49:54.790439243Z       securityContext:
2023-01-09T04:49:54.790439243Z         privileged: true
2023-01-09T04:49:54.790439243Z       resources:
2023-01-09T04:49:54.790439243Z         requests:
2023-01-09T04:49:54.790439243Z           memory: 50Mi
2023-01-09T04:49:54.790439243Z           cpu: 5m
2023-01-09T04:49:54.790439243Z       volumeMounts:
2023-01-09T04:49:54.790439243Z         - mountPath: /var/log/etcd
2023-01-09T04:49:54.790439243Z           name: log-dir
2023-01-09T04:49:54.790439243Z     - name: etcd-ensure-env-vars
2023-01-09T04:49:54.790439243Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:49:54.790439243Z       imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790439243Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790439243Z       command:
2023-01-09T04:49:54.790439243Z         - /bin/sh
2023-01-09T04:49:54.790439243Z         - -c
2023-01-09T04:49:54.790439243Z         - |
2023-01-09T04:49:54.790439243Z           #!/bin/sh
2023-01-09T04:49:54.790439243Z           set -euo pipefail
2023-01-09T04:49:54.790439243Z 
2023-01-09T04:49:54.790439243Z           : "${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST?not set}"
2023-01-09T04:49:54.790439243Z           : "${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME?not set}"
2023-01-09T04:49:54.790439243Z           : "${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP?not set}"
2023-01-09T04:49:54.790439243Z 
2023-01-09T04:49:54.790439243Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2023-01-09T04:49:54.790439243Z           if [[ "${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}" != "${NODE_IP}" && "${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}" != "[${NODE_IP}]" ]]; then
2023-01-09T04:49:54.790439243Z             # echo the error message to stderr
2023-01-09T04:49:54.790439243Z             echo "Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}" >&2
2023-01-09T04:49:54.790439243Z             exit 1
2023-01-09T04:49:54.790439243Z           fi
2023-01-09T04:49:54.790439243Z 
2023-01-09T04:49:54.790439243Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2023-01-09T04:49:54.790439243Z           if [[ "${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
2023-01-09T04:49:54.790439243Z             # echo the error message to stderr
2023-01-09T04:49:54.790439243Z             echo "Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}" >&2
2023-01-09T04:49:54.790439243Z             exit 1
2023-01-09T04:49:54.790439243Z           fi
2023-01-09T04:49:54.790439243Z 
2023-01-09T04:49:54.790439243Z       resources:
2023-01-09T04:49:54.790439243Z         requests:
2023-01-09T04:49:54.790439243Z           memory: 60Mi
2023-01-09T04:49:54.790439243Z           cpu: 10m
2023-01-09T04:49:54.790439243Z       securityContext:
2023-01-09T04:49:54.790439243Z         privileged: true
2023-01-09T04:49:54.790439243Z       env:
2023-01-09T04:49:54.790439243Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:49:54.790439243Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_API"
2023-01-09T04:49:54.790439243Z         value: "3"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:49:54.790439243Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_CERT"
2023-01-09T04:49:54.790439243Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:49:54.790439243Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_KEY"
2023-01-09T04:49:54.790439243Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:49:54.790439243Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:49:54.790439243Z         value: "/var/lib/etcd"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:49:54.790439243Z         value: "1000"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:49:54.790439243Z         value: "true"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:49:54.790439243Z         value: "3"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:49:54.790439243Z         value: "200ms"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:49:54.790439243Z         value: "5s"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:49:54.790439243Z         value: "100"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_IMAGE"
2023-01-09T04:49:54.790439243Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:49:54.790439243Z         value: "existing"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:49:54.790439243Z         value: "8589934592"
2023-01-09T04:49:54.790439243Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:49:54.790439243Z         value: "true"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790439243Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790439243Z         value: "10.0.145.4"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790439243Z         value: "10.0.145.4"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790439243Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790439243Z         value: "10.0.160.211"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790439243Z         value: "10.0.160.211"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790439243Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790439243Z         value: "10.0.199.219"
2023-01-09T04:49:54.790439243Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790439243Z         value: "10.0.199.219"
2023-01-09T04:49:54.790439243Z       - name: NODE_IP
2023-01-09T04:49:54.790439243Z         valueFrom:
2023-01-09T04:49:54.790439243Z           fieldRef:
2023-01-09T04:49:54.790439243Z             fieldPath: status.podIP
2023-01-09T04:49:54.790439243Z     - name: etcd-resources-copy
2023-01-09T04:49:54.790439243Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:49:54.790439243Z       imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790439243Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790439243Z       command:
2023-01-09T04:49:54.790439243Z         - /bin/sh
2023-01-09T04:49:54.790439243Z         - -c
2023-01-09T04:49:54.790439243Z         - |
2023-01-09T04:49:54.790439243Z           #!/bin/sh
2023-01-09T04:49:54.790439243Z           set -euo pipefail
2023-01-09T04:49:54.790439243Z 
2023-01-09T04:49:54.790439243Z           rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
2023-01-09T04:49:54.790439243Z           cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
2023-01-09T04:49:54.790439243Z 
2023-01-09T04:49:54.790439243Z       resources:
2023-01-09T04:49:54.790439243Z         requests:
2023-01-09T04:49:54.790439243Z           memory: 60Mi
2023-01-09T04:49:54.790439243Z           cpu: 10m
2023-01-09T04:49:54.790439243Z       securityContext:
2023-01-09T04:49:54.790439243Z         privileged: true
2023-01-09T04:49:54.790439243Z       volumeMounts:
2023-01-09T04:49:54.790439243Z         - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:49:54.790439243Z           name: resource-dir
2023-01-09T04:49:54.790439243Z         - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:49:54.790439243Z           name: cert-dir
2023-01-09T04:49:54.790439243Z         - mountPath: /usr/local/bin
2023-01-09T04:49:54.790439243Z           name: usr-local-bin
2023-01-09T04:49:54.790439243Z   containers:
2023-01-09T04:49:54.790439243Z   # The etcdctl container should always be first. It is intended to be used
2023-01-09T04:49:54.790439243Z   # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.
2023-01-09T04:49:54.790439243Z   - name: etcdctl
2023-01-09T04:49:54.790439243Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:49:54.790439243Z     imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790439243Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790439243Z     command:
2023-01-09T04:49:54.790439243Z       - "/bin/bash"
2023-01-09T04:49:54.790439243Z       - "-c"
2023-01-09T04:49:54.790439243Z       - "trap TERM INT; sleep infinity & wait"
2023-01-09T04:49:54.790439243Z     resources:
2023-01-09T04:49:54.790439243Z       requests:
2023-01-09T04:49:54.790439243Z         memory: 60Mi
2023-01-09T04:49:54.790439243Z         cpu: 10m
2023-01-09T04:49:54.790439243Z     volumeMounts:
2023-01-09T04:49:54.790439243Z       - mountPath: /etc/kubernetes/manifests
2023-01-09T04:49:54.790439243Z         name: static-pod-dir
2023-01-09T04:49:54.790439243Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:49:54.790439243Z         name: resource-dir
2023-01-09T04:49:54.790439243Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:49:54.790439243Z         name: cert-dir
2023-01-09T04:49:54.790439243Z       - mountPath: /var/lib/etcd/
2023-01-09T04:49:54.790439243Z         name: data-dir
2023-01-09T04:49:54.790439243Z     env:
2023-01-09T04:49:54.790439243Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:49:54.790439243Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_API"
2023-01-09T04:49:54.790439243Z         value: "3"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:49:54.790439243Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_CERT"
2023-01-09T04:49:54.790439243Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"
2023-01-09T04:49:54.790439243Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:49:54.790439243Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790519966Z       - name: "ETCDCTL_KEY"
2023-01-09T04:49:54.790519966Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:49:54.790519966Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:49:54.790519966Z         value: "/var/lib/etcd"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:49:54.790519966Z         value: "1000"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:49:54.790519966Z         value: "true"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:49:54.790519966Z         value: "3"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:49:54.790519966Z         value: "200ms"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:49:54.790519966Z         value: "5s"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:49:54.790519966Z         value: "100"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_IMAGE"
2023-01-09T04:49:54.790519966Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:49:54.790519966Z         value: "existing"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:49:54.790519966Z         value: "8589934592"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:49:54.790519966Z         value: "true"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790519966Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790519966Z         value: "10.0.145.4"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790519966Z         value: "10.0.145.4"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790519966Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790519966Z         value: "10.0.160.211"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790519966Z         value: "10.0.160.211"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790519966Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790519966Z         value: "10.0.199.219"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790519966Z         value: "10.0.199.219"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:49:54.790519966Z         value: "7"
2023-01-09T04:49:54.790519966Z   - name: etcd
2023-01-09T04:49:54.790519966Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:49:54.790519966Z     imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790519966Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790519966Z     command:
2023-01-09T04:49:54.790519966Z       - /bin/sh
2023-01-09T04:49:54.790519966Z       - -c
2023-01-09T04:49:54.790519966Z       - |
2023-01-09T04:49:54.790519966Z         #!/bin/sh
2023-01-09T04:49:54.790519966Z         set -euo pipefail
2023-01-09T04:49:54.790519966Z 
2023-01-09T04:49:54.790519966Z         etcdctl member list || true
2023-01-09T04:49:54.790519966Z 
2023-01-09T04:49:54.790519966Z         # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
2023-01-09T04:49:54.790519966Z         # will succeed when you should fail.
2023-01-09T04:49:54.790519966Z         ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
2023-01-09T04:49:54.790519966Z           --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2023-01-09T04:49:54.790519966Z           --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt \
2023-01-09T04:49:54.790519966Z           --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key \
2023-01-09T04:49:54.790519966Z           --endpoints=${ALL_ETCD_ENDPOINTS} \
2023-01-09T04:49:54.790519966Z           --data-dir=/var/lib/etcd \
2023-01-09T04:49:54.790519966Z           --target-peer-url-host=${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST} \
2023-01-09T04:49:54.790519966Z           --target-name=ip-10-0-199-219.us-east-2.compute.internal)
2023-01-09T04:49:54.790519966Z         export ETCD_INITIAL_CLUSTER
2023-01-09T04:49:54.790519966Z 
2023-01-09T04:49:54.790519966Z         # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
2023-01-09T04:49:54.790519966Z         # so we do the detection in etcd container itself.
2023-01-09T04:49:54.790519966Z         echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
2023-01-09T04:49:54.790519966Z         time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
2023-01-09T04:49:54.790519966Z           echo -n "."
2023-01-09T04:49:54.790519966Z           sleep 1
2023-01-09T04:49:54.790519966Z         done
2023-01-09T04:49:54.790519966Z 
2023-01-09T04:49:54.790519966Z         export ETCD_NAME=${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME}
2023-01-09T04:49:54.790519966Z         env | grep ETCD | grep -v NODE
2023-01-09T04:49:54.790519966Z 
2023-01-09T04:49:54.790519966Z         set -x
2023-01-09T04:49:54.790519966Z         # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
2023-01-09T04:49:54.790519966Z         exec nice -n -19 ionice -c2 -n0 etcd \
2023-01-09T04:49:54.790519966Z           --logger=zap \
2023-01-09T04:49:54.790519966Z           --log-level=info \
2023-01-09T04:49:54.790519966Z           --experimental-initial-corrupt-check=true \
2023-01-09T04:49:54.790519966Z           --initial-advertise-peer-urls=https://${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}:2380 \
2023-01-09T04:49:54.790519966Z           --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt \
2023-01-09T04:49:54.790519966Z           --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key \
2023-01-09T04:49:54.790519966Z           --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2023-01-09T04:49:54.790519966Z           --client-cert-auth=true \
2023-01-09T04:49:54.790519966Z           --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt \
2023-01-09T04:49:54.790519966Z           --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key \
2023-01-09T04:49:54.790519966Z           --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2023-01-09T04:49:54.790519966Z           --peer-client-cert-auth=true \
2023-01-09T04:49:54.790519966Z           --advertise-client-urls=https://${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}:2379 \
2023-01-09T04:49:54.790519966Z           --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}:0 \
2023-01-09T04:49:54.790519966Z           --listen-peer-urls=https://0.0.0.0:2380 \
2023-01-09T04:49:54.790519966Z           --metrics=extensive \
2023-01-09T04:49:54.790519966Z           --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
2023-01-09T04:49:54.790519966Z     env:
2023-01-09T04:49:54.790519966Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:49:54.790519966Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790519966Z       - name: "ETCDCTL_API"
2023-01-09T04:49:54.790519966Z         value: "3"
2023-01-09T04:49:54.790519966Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:49:54.790519966Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:49:54.790519966Z       - name: "ETCDCTL_CERT"
2023-01-09T04:49:54.790519966Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"
2023-01-09T04:49:54.790519966Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:49:54.790519966Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790519966Z       - name: "ETCDCTL_KEY"
2023-01-09T04:49:54.790519966Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:49:54.790519966Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:49:54.790519966Z         value: "/var/lib/etcd"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:49:54.790519966Z         value: "1000"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:49:54.790519966Z         value: "true"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:49:54.790519966Z         value: "3"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:49:54.790519966Z         value: "200ms"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:49:54.790519966Z         value: "5s"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:49:54.790519966Z         value: "100"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_IMAGE"
2023-01-09T04:49:54.790519966Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:49:54.790519966Z         value: "existing"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:49:54.790519966Z         value: "8589934592"
2023-01-09T04:49:54.790519966Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:49:54.790519966Z         value: "true"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790519966Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790519966Z         value: "10.0.145.4"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790519966Z         value: "10.0.145.4"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790519966Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:49:54.790519966Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790566938Z         value: "10.0.160.211"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790566938Z         value: "10.0.160.211"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790566938Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790566938Z         value: "10.0.199.219"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790566938Z         value: "10.0.199.219"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:49:54.790566938Z         value: "7"
2023-01-09T04:49:54.790566938Z     resources:
2023-01-09T04:49:54.790566938Z       requests:
2023-01-09T04:49:54.790566938Z         memory: 600Mi
2023-01-09T04:49:54.790566938Z         cpu: 300m
2023-01-09T04:49:54.790566938Z     readinessProbe:
2023-01-09T04:49:54.790566938Z       httpGet:
2023-01-09T04:49:54.790566938Z         port: 9980
2023-01-09T04:49:54.790566938Z         path: readyz
2023-01-09T04:49:54.790566938Z         scheme: HTTPS
2023-01-09T04:49:54.790566938Z       timeoutSeconds: 10
2023-01-09T04:49:54.790566938Z       failureThreshold: 3
2023-01-09T04:49:54.790566938Z       periodSeconds: 5
2023-01-09T04:49:54.790566938Z       successThreshold: 1
2023-01-09T04:49:54.790566938Z     livenessProbe:
2023-01-09T04:49:54.790566938Z       httpGet:
2023-01-09T04:49:54.790566938Z         path: healthz
2023-01-09T04:49:54.790566938Z         port: 9980
2023-01-09T04:49:54.790566938Z         scheme: HTTPS
2023-01-09T04:49:54.790566938Z       timeoutSeconds: 10
2023-01-09T04:49:54.790566938Z       periodSeconds: 5
2023-01-09T04:49:54.790566938Z       successThreshold: 1
2023-01-09T04:49:54.790566938Z       failureThreshold: 3
2023-01-09T04:49:54.790566938Z     startupProbe:
2023-01-09T04:49:54.790566938Z       httpGet:
2023-01-09T04:49:54.790566938Z         port: 9980
2023-01-09T04:49:54.790566938Z         path: readyz
2023-01-09T04:49:54.790566938Z         scheme: HTTPS
2023-01-09T04:49:54.790566938Z       initialDelaySeconds: 10
2023-01-09T04:49:54.790566938Z       timeoutSeconds: 1
2023-01-09T04:49:54.790566938Z       periodSeconds: 10
2023-01-09T04:49:54.790566938Z       successThreshold: 1
2023-01-09T04:49:54.790566938Z       failureThreshold: 18
2023-01-09T04:49:54.790566938Z     securityContext:
2023-01-09T04:49:54.790566938Z       privileged: true
2023-01-09T04:49:54.790566938Z     volumeMounts:
2023-01-09T04:49:54.790566938Z       - mountPath: /etc/kubernetes/manifests
2023-01-09T04:49:54.790566938Z         name: static-pod-dir
2023-01-09T04:49:54.790566938Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:49:54.790566938Z         name: resource-dir
2023-01-09T04:49:54.790566938Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:49:54.790566938Z         name: cert-dir
2023-01-09T04:49:54.790566938Z       - mountPath: /var/lib/etcd/
2023-01-09T04:49:54.790566938Z         name: data-dir
2023-01-09T04:49:54.790566938Z   - name: etcd-metrics
2023-01-09T04:49:54.790566938Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:49:54.790566938Z     imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790566938Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790566938Z     command:
2023-01-09T04:49:54.790566938Z       - /bin/sh
2023-01-09T04:49:54.790566938Z       - -c
2023-01-09T04:49:54.790566938Z       - |
2023-01-09T04:49:54.790566938Z         #!/bin/sh
2023-01-09T04:49:54.790566938Z         set -euo pipefail
2023-01-09T04:49:54.790566938Z 
2023-01-09T04:49:54.790566938Z         export ETCD_NAME=${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME}
2023-01-09T04:49:54.790566938Z 
2023-01-09T04:49:54.790566938Z         exec nice -n -18 etcd grpc-proxy start \
2023-01-09T04:49:54.790566938Z           --endpoints https://${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}:9978 \
2023-01-09T04:49:54.790566938Z           --metrics-addr https://0.0.0.0:9979 \
2023-01-09T04:49:54.790566938Z           --listen-addr 127.0.0.1:9977 \
2023-01-09T04:49:54.790566938Z           --advertise-client-url ""  \
2023-01-09T04:49:54.790566938Z           --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key \
2023-01-09T04:49:54.790566938Z           --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key \
2023-01-09T04:49:54.790566938Z           --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt \
2023-01-09T04:49:54.790566938Z           --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt \
2023-01-09T04:49:54.790566938Z           --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2023-01-09T04:49:54.790566938Z           --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
2023-01-09T04:49:54.790566938Z           --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
2023-01-09T04:49:54.790566938Z     env:
2023-01-09T04:49:54.790566938Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:49:54.790566938Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_API"
2023-01-09T04:49:54.790566938Z         value: "3"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:49:54.790566938Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_CERT"
2023-01-09T04:49:54.790566938Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:49:54.790566938Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_KEY"
2023-01-09T04:49:54.790566938Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:49:54.790566938Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:49:54.790566938Z         value: "/var/lib/etcd"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:49:54.790566938Z         value: "1000"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:49:54.790566938Z         value: "true"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:49:54.790566938Z         value: "3"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:49:54.790566938Z         value: "200ms"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:49:54.790566938Z         value: "5s"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:49:54.790566938Z         value: "100"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_IMAGE"
2023-01-09T04:49:54.790566938Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:49:54.790566938Z         value: "existing"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:49:54.790566938Z         value: "8589934592"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:49:54.790566938Z         value: "true"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790566938Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790566938Z         value: "10.0.145.4"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790566938Z         value: "10.0.145.4"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790566938Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790566938Z         value: "10.0.160.211"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790566938Z         value: "10.0.160.211"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790566938Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790566938Z         value: "10.0.199.219"
2023-01-09T04:49:54.790566938Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790566938Z         value: "10.0.199.219"
2023-01-09T04:49:54.790566938Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:49:54.790566938Z         value: "7"
2023-01-09T04:49:54.790566938Z     resources:
2023-01-09T04:49:54.790566938Z       requests:
2023-01-09T04:49:54.790566938Z         memory: 200Mi
2023-01-09T04:49:54.790566938Z         cpu: 40m
2023-01-09T04:49:54.790566938Z     securityContext:
2023-01-09T04:49:54.790566938Z       privileged: true
2023-01-09T04:49:54.790566938Z     volumeMounts:
2023-01-09T04:49:54.790566938Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:49:54.790566938Z         name: resource-dir
2023-01-09T04:49:54.790566938Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:49:54.790566938Z         name: cert-dir
2023-01-09T04:49:54.790566938Z       - mountPath: /var/lib/etcd/
2023-01-09T04:49:54.790566938Z         name: data-dir
2023-01-09T04:49:54.790566938Z   - name: etcd-readyz
2023-01-09T04:49:54.790566938Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a16832e9c1f864f0f8455237987cb75061483d55d4fd2619af2f93ac3563390d
2023-01-09T04:49:54.790566938Z     imagePullPolicy: IfNotPresent
2023-01-09T04:49:54.790566938Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:49:54.790566938Z     command:
2023-01-09T04:49:54.790566938Z       - /bin/sh
2023-01-09T04:49:54.790566938Z       - -c
2023-01-09T04:49:54.790566938Z       - |
2023-01-09T04:49:54.790566938Z         #!/bin/sh
2023-01-09T04:49:54.790566938Z         set -euo pipefail
2023-01-09T04:49:54.790566938Z         
2023-01-09T04:49:54.790566938Z         exec nice -n -18 cluster-etcd-operator readyz \
2023-01-09T04:49:54.790566938Z           --target=https://localhost:2379 \
2023-01-09T04:49:54.790566938Z           --listen-port=9980 \
2023-01-09T04:49:54.790566938Z           --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt \
2023-01-09T04:49:54.790566938Z           --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key \
2023-01-09T04:49:54.790566938Z           --client-cert-file=$(ETCDCTL_CERT) \
2023-01-09T04:49:54.790566938Z           --client-key-file=$(ETCDCTL_KEY) \
2023-01-09T04:49:54.790566938Z           --client-cacert-file=$(ETCDCTL_CACERT)
2023-01-09T04:49:54.790566938Z     securityContext:
2023-01-09T04:49:54.790566938Z       privileged: true
2023-01-09T04:49:54.790566938Z     ports:
2023-01-09T04:49:54.790566938Z     - containerPort: 9980
2023-01-09T04:49:54.790566938Z       name: readyz
2023-01-09T04:49:54.790566938Z       protocol: TCP
2023-01-09T04:49:54.790566938Z     resources:
2023-01-09T04:49:54.790566938Z       requests:
2023-01-09T04:49:54.790566938Z         memory: 50Mi
2023-01-09T04:49:54.790566938Z         cpu: 10m
2023-01-09T04:49:54.790566938Z     env:
2023-01-09T04:49:54.790566938Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:49:54.790566938Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_API"
2023-01-09T04:49:54.790566938Z         value: "3"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:49:54.790566938Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:49:54.790566938Z       - name: "ETCDCTL_CERT"
2023-01-09T04:49:54.790566938Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"
2023-01-09T04:49:54.790630280Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:49:54.790630280Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:49:54.790630280Z       - name: "ETCDCTL_KEY"
2023-01-09T04:49:54.790630280Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:49:54.790630280Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:49:54.790630280Z         value: "/var/lib/etcd"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:49:54.790630280Z         value: "1000"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:49:54.790630280Z         value: "true"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:49:54.790630280Z         value: "3"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:49:54.790630280Z         value: "200ms"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:49:54.790630280Z         value: "5s"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:49:54.790630280Z         value: "100"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_IMAGE"
2023-01-09T04:49:54.790630280Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:49:54.790630280Z         value: "existing"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:49:54.790630280Z         value: "8589934592"
2023-01-09T04:49:54.790630280Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:49:54.790630280Z         value: "true"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790630280Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790630280Z         value: "10.0.145.4"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790630280Z         value: "10.0.145.4"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790630280Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790630280Z         value: "10.0.160.211"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790630280Z         value: "10.0.160.211"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:49:54.790630280Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:49:54.790630280Z         value: "10.0.199.219"
2023-01-09T04:49:54.790630280Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:49:54.790630280Z         value: "10.0.199.219"
2023-01-09T04:49:54.790630280Z     volumeMounts:
2023-01-09T04:49:54.790630280Z       - mountPath: /var/log/etcd/
2023-01-09T04:49:54.790630280Z         name: log-dir
2023-01-09T04:49:54.790630280Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:49:54.790630280Z         name: cert-dir
2023-01-09T04:49:54.790630280Z   hostNetwork: true
2023-01-09T04:49:54.790630280Z   priorityClassName: system-node-critical
2023-01-09T04:49:54.790630280Z   tolerations:
2023-01-09T04:49:54.790630280Z   - operator: "Exists"
2023-01-09T04:49:54.790630280Z   volumes:
2023-01-09T04:49:54.790630280Z     - hostPath:
2023-01-09T04:49:54.790630280Z         path: /etc/kubernetes/manifests
2023-01-09T04:49:54.790630280Z       name: static-pod-dir
2023-01-09T04:49:54.790630280Z     - hostPath:
2023-01-09T04:49:54.790630280Z         path: /etc/kubernetes/static-pod-resources/etcd-pod-7
2023-01-09T04:49:54.790630280Z       name: resource-dir
2023-01-09T04:49:54.790630280Z     - hostPath:
2023-01-09T04:49:54.790630280Z         path: /etc/kubernetes/static-pod-resources/etcd-certs
2023-01-09T04:49:54.790630280Z       name: cert-dir
2023-01-09T04:49:54.790630280Z     - hostPath:
2023-01-09T04:49:54.790630280Z         path: /var/lib/etcd
2023-01-09T04:49:54.790630280Z         type: ""
2023-01-09T04:49:54.790630280Z       name: data-dir
2023-01-09T04:49:54.790630280Z     - hostPath:
2023-01-09T04:49:54.790630280Z         path: /usr/local/bin
2023-01-09T04:49:54.790630280Z       name: usr-local-bin
2023-01-09T04:49:54.790630280Z     - hostPath:
2023-01-09T04:49:54.790630280Z         path: /var/log/etcd
2023-01-09T04:49:54.790630280Z       name: log-dir
2023-01-09T04:49:54.795995086Z I0109 04:49:54.795959       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/etcd-pod.yaml" ...
2023-01-09T04:49:54.796162425Z I0109 04:49:54.796144       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2023-01-09T04:49:54.796180608Z I0109 04:49:54.796157       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2023-01-09T04:49:54.796180608Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"etcd","namespace":"openshift-etcd","creationTimestamp":null,"labels":{"app":"etcd","etcd":"true","k8s-app":"etcd","revision":"7"},"annotations":{"kubectl.kubernetes.io/default-container":"etcd","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"static-pod-dir","hostPath":{"path":"/etc/kubernetes/manifests"}},{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-pod-7"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-certs"}},{"name":"data-dir","hostPath":{"path":"/var/lib/etcd","type":""}},{"name":"usr-local-bin","hostPath":{"path":"/usr/local/bin"}},{"name":"log-dir","hostPath":{"path":"/var/log/etcd"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\necho -n \"Fixing etcd log permissions.\"\nchmod 0700 /var/log/etcd \u0026\u0026 touch /var/log/etcd/etcd-health-probe.log \u0026\u0026 chmod 0600 /var/log/etcd/*\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-ensure-env-vars","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\n: \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST?not set}\"\n: \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME?not set}\"\n: \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP?not set}\"\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}\" \u003e\u00262\n  exit 1\nfi\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}\" \u003e\u00262\n  exit 1\nfi\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-resources-copy","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nrm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)\ncp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin\n"],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"usr-local-bin","mountPath":"/usr/local/bin"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"etcdctl","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/bash","-c","trap TERM INT; sleep infinity \u0026 wait"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"etcd","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\netcdctl member list || true\n\n# this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you\n# will succeed when you should fail.\nETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \\\n  --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt \\\n  --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key \\\n  --endpoints=${ALL_ETCD_ENDPOINTS} \\\n  --data-dir=/var/lib/etcd \\\n  --target-peer-url-host=${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST} \\\n  --target-name=ip-10-0-199-219.us-east-2.compute.internal)\nexport ETCD_INITIAL_CLUSTER\n\n# we cannot use the \"normal\" port conflict initcontainer because when we upgrade, the existing static pod will never yield,\n# so we do the detection in etcd container itself.\necho -n \"Waiting for ports 2379, 2380 and 9978 to be released.\"\ntime while [ -n \"$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n  echo -n \".\"\n  sleep 1\ndone\n\nexport ETCD_NAME=${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME}\nenv | grep ETCD | grep -v NODE\n\nset -x\n# See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice\nexec nice -n -19 ionice -c2 -n0 etcd \\\n  --logger=zap \\\n  --log-level=info \\\n  --experimental-initial-corrupt-check=true \\\n  --initial-advertise-peer-urls=https://${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}:2380 \\\n  --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt \\\n  --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key \\\n  --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --client-cert-auth=true \\\n  --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt \\\n  --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key \\\n  --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --peer-client-cert-auth=true \\\n  --advertise-client-urls=https://${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}:2379 \\\n  --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_199_219_us_east_2_compute_internal_IP}:0 \\\n  --listen-peer-urls=https://0.0.0.0:2380 \\\n  --metrics=extensive \\\n  --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"300m","memory":"600Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"livenessProbe":{"httpGet":{"path":"healthz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"startupProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":18},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-metrics","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexport ETCD_NAME=${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME}\n\nexec nice -n -18 etcd grpc-proxy start \\\n  --endpoints https://${NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST}:9978 \\\n  --metrics-addr https://0.0.0.0:9979 \\\n  --listen-addr 127.0.0.1:9977 \\\n  --advertise-client-url \"\"  \\\n  --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key \\\n  --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key \\\n  --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt \\\n  --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt \\\n  --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \\\n  --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"40m","memory":"200Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a16832e9c1f864f0f8455237987cb75061483d55d4fd2619af2f93ac3563390d","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexec nice -n -18 cluster-etcd-operator readyz \\\n  --target=https://localhost:2379 \\\n  --listen-port=9980 \\\n  --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt \\\n  --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key \\\n  --client-cert-file=$(ETCDCTL_CERT) \\\n  --client-key-file=$(ETCDCTL_KEY) \\\n  --client-cacert-file=$(ETCDCTL_CACERT)\n"],"ports":[{"name":"readyz","containerPort":9980,"protocol":"TCP"}],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd/"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
