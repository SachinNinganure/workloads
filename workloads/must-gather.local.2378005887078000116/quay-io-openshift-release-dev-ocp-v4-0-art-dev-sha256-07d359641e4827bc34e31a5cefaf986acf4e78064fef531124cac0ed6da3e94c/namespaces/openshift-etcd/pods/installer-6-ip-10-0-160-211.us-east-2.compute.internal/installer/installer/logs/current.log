2023-01-09T04:45:44.992244460Z I0109 04:45:44.992070       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc0006a7d60 cert-dir:0xc0006a7f40 cert-secrets:0xc0006a7cc0 configmaps:0xc0006a7860 namespace:0xc0006a7680 pod:0xc0006a7720 pod-manifest-dir:0xc0006a7ae0 resource-dir:0xc0006a7a40 revision:0xc0006a75e0 secrets:0xc0006a77c0 v:0xc000b31c20] [0xc000b31c20 0xc0006a75e0 0xc0006a7680 0xc0006a7720 0xc0006a7a40 0xc0006a7ae0 0xc0006a7860 0xc0006a77c0 0xc0006a7f40 0xc0006a7d60 0xc0006a7cc0] [] map[add-dir-header:0xc000b314a0 alsologtostderr:0xc000b31540 cert-configmaps:0xc0006a7d60 cert-dir:0xc0006a7f40 cert-secrets:0xc0006a7cc0 configmaps:0xc0006a7860 help:0xc000002280 kubeconfig:0xc0006a7360 log-backtrace-at:0xc000b31680 log-dir:0xc000b31720 log-file:0xc000b317c0 log-file-max-size:0xc000b31860 log-flush-frequency:0xc000b315e0 logtostderr:0xc000b31900 namespace:0xc0006a7680 one-output:0xc000b319a0 optional-cert-configmaps:0xc0006a7ea0 optional-cert-secrets:0xc0006a7e00 optional-configmaps:0xc0006a79a0 optional-secrets:0xc0006a7900 pod:0xc0006a7720 pod-manifest-dir:0xc0006a7ae0 pod-manifests-lock-file:0xc0006a7c20 resource-dir:0xc0006a7a40 revision:0xc0006a75e0 secrets:0xc0006a77c0 skip-headers:0xc000b31a40 skip-log-headers:0xc000b31ae0 stderrthreshold:0xc000b31b80 timeout-duration:0xc0006a7b80 v:0xc000b31c20 vmodule:0xc000b31cc0] [0xc0006a7360 0xc0006a75e0 0xc0006a7680 0xc0006a7720 0xc0006a77c0 0xc0006a7860 0xc0006a7900 0xc0006a79a0 0xc0006a7a40 0xc0006a7ae0 0xc0006a7b80 0xc0006a7c20 0xc0006a7cc0 0xc0006a7d60 0xc0006a7e00 0xc0006a7ea0 0xc0006a7f40 0xc000b314a0 0xc000b31540 0xc000b31680 0xc000b31720 0xc000b317c0 0xc000b31860 0xc000b315e0 0xc000b31900 0xc000b319a0 0xc000b31a40 0xc000b31ae0 0xc000b31b80 0xc000b31c20 0xc000b31cc0 0xc000002280] [0xc000b314a0 0xc000b31540 0xc0006a7d60 0xc0006a7f40 0xc0006a7cc0 0xc0006a7860 0xc000002280 0xc0006a7360 0xc000b31680 0xc000b31720 0xc000b317c0 0xc000b31860 0xc000b315e0 0xc000b31900 0xc0006a7680 0xc000b319a0 0xc0006a7ea0 0xc0006a7e00 0xc0006a79a0 0xc0006a7900 0xc0006a7720 0xc0006a7ae0 0xc0006a7c20 0xc0006a7a40 0xc0006a75e0 0xc0006a77c0 0xc000b31a40 0xc000b31ae0 0xc000b31b80 0xc0006a7b80 0xc000b31c20 0xc000b31cc0] map[104:0xc000002280 118:0xc000b31c20] [] -1 0 0xc0006dd200 true <nil> []}
2023-01-09T04:45:44.992353060Z I0109 04:45:44.992278       1 cmd.go:93] (*installerpod.InstallOptions)(0xc000602d00)({
2023-01-09T04:45:44.992353060Z  KubeConfig: (string) "",
2023-01-09T04:45:44.992353060Z  KubeClient: (kubernetes.Interface) <nil>,
2023-01-09T04:45:44.992353060Z  Revision: (string) (len=1) "6",
2023-01-09T04:45:44.992353060Z  NodeName: (string) "",
2023-01-09T04:45:44.992353060Z  Namespace: (string) (len=14) "openshift-etcd",
2023-01-09T04:45:44.992353060Z  PodConfigMapNamePrefix: (string) (len=8) "etcd-pod",
2023-01-09T04:45:44.992353060Z  SecretNamePrefixes: ([]string) (len=1 cap=1) {
2023-01-09T04:45:44.992353060Z   (string) (len=14) "etcd-all-certs"
2023-01-09T04:45:44.992353060Z  },
2023-01-09T04:45:44.992353060Z  OptionalSecretNamePrefixes: ([]string) <nil>,
2023-01-09T04:45:44.992353060Z  ConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2023-01-09T04:45:44.992353060Z   (string) (len=8) "etcd-pod",
2023-01-09T04:45:44.992353060Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=19) "etcd-peer-client-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=28) "etcd-metrics-proxy-client-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=14) "etcd-endpoints"
2023-01-09T04:45:44.992353060Z  },
2023-01-09T04:45:44.992353060Z  OptionalConfigMapNamePrefixes: ([]string) <nil>,
2023-01-09T04:45:44.992353060Z  CertSecretNames: ([]string) (len=1 cap=1) {
2023-01-09T04:45:44.992353060Z   (string) (len=14) "etcd-all-certs"
2023-01-09T04:45:44.992353060Z  },
2023-01-09T04:45:44.992353060Z  OptionalCertSecretNamePrefixes: ([]string) <nil>,
2023-01-09T04:45:44.992353060Z  CertConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2023-01-09T04:45:44.992353060Z   (string) (len=16) "restore-etcd-pod",
2023-01-09T04:45:44.992353060Z   (string) (len=12) "etcd-scripts",
2023-01-09T04:45:44.992353060Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=19) "etcd-peer-client-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2023-01-09T04:45:44.992353060Z   (string) (len=28) "etcd-metrics-proxy-client-ca"
2023-01-09T04:45:44.992353060Z  },
2023-01-09T04:45:44.992353060Z  OptionalCertConfigMapNamePrefixes: ([]string) <nil>,
2023-01-09T04:45:44.992353060Z  CertDir: (string) (len=47) "/etc/kubernetes/static-pod-resources/etcd-certs",
2023-01-09T04:45:44.992353060Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2023-01-09T04:45:44.992353060Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2023-01-09T04:45:44.992353060Z  Timeout: (time.Duration) 2m0s,
2023-01-09T04:45:44.992353060Z  StaticPodManifestsLockFile: (string) "",
2023-01-09T04:45:44.992353060Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2023-01-09T04:45:44.992353060Z  KubeletVersion: (string) ""
2023-01-09T04:45:44.992353060Z })
2023-01-09T04:45:44.992833410Z I0109 04:45:44.992800       1 cmd.go:410] Getting controller reference for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:45:45.002650321Z I0109 04:45:45.002616       1 cmd.go:423] Waiting for installer revisions to settle for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:45:45.007594013Z I0109 04:45:45.007564       1 cmd.go:503] Pod container: installer state for node ip-10-0-160-211.us-east-2.compute.internal is not terminated, waiting
2023-01-09T04:45:55.021343557Z I0109 04:45:55.021298       1 cmd.go:503] Pod container: installer state for node ip-10-0-160-211.us-east-2.compute.internal is not terminated, waiting
2023-01-09T04:46:05.022429925Z I0109 04:46:05.022385       1 cmd.go:515] Waiting additional period after revisions have settled for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:46:35.022747148Z I0109 04:46:35.022708       1 cmd.go:521] Getting installer pods for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:46:35.028015507Z I0109 04:46:35.027964       1 cmd.go:539] Latest installer revision for node ip-10-0-160-211.us-east-2.compute.internal is: 6
2023-01-09T04:46:35.028015507Z I0109 04:46:35.027980       1 cmd.go:428] Querying kubelet version for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:46:35.032257384Z I0109 04:46:35.032224       1 cmd.go:441] Got kubelet version 1.25.4+77bec7a on target node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:46:35.032257384Z I0109 04:46:35.032244       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-6" ...
2023-01-09T04:46:35.032350071Z I0109 04:46:35.032333       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-6" ...
2023-01-09T04:46:35.032371014Z I0109 04:46:35.032348       1 cmd.go:226] Getting secrets ...
2023-01-09T04:46:35.036381986Z I0109 04:46:35.036350       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs-6
2023-01-09T04:46:35.036510579Z I0109 04:46:35.036497       1 cmd.go:239] Getting config maps ...
2023-01-09T04:46:35.039950943Z I0109 04:46:35.039915       1 copy.go:60] Got configMap openshift-etcd/etcd-endpoints-6
2023-01-09T04:46:35.043663868Z I0109 04:46:35.043629       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca-6
2023-01-09T04:46:35.048831036Z I0109 04:46:35.048804       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca-6
2023-01-09T04:46:35.052689307Z I0109 04:46:35.052652       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca-6
2023-01-09T04:46:35.056558720Z I0109 04:46:35.056532       1 copy.go:60] Got configMap openshift-etcd/etcd-pod-6
2023-01-09T04:46:35.060336230Z I0109 04:46:35.060308       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca-6
2023-01-09T04:46:35.060382634Z I0109 04:46:35.060334       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs" ...
2023-01-09T04:46:35.060456945Z I0109 04:46:35.060443       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.060555134Z I0109 04:46:35.060542       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.060617055Z I0109 04:46:35.060598       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.060666857Z I0109 04:46:35.060653       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.060758328Z I0109 04:46:35.060745       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.060830753Z I0109 04:46:35.060817       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.060884752Z I0109 04:46:35.060872       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.060946183Z I0109 04:46:35.060927       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061029984Z I0109 04:46:35.061014       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.061091157Z I0109 04:46:35.061078       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061147214Z I0109 04:46:35.061134       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061204371Z I0109 04:46:35.061191       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061257232Z I0109 04:46:35.061244       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.061314178Z I0109 04:46:35.061301       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061366526Z I0109 04:46:35.061354       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061425657Z I0109 04:46:35.061411       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.061483898Z I0109 04:46:35.061471       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:46:35.061536906Z I0109 04:46:35.061524       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:35.061594433Z I0109 04:46:35.061582       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-endpoints" ...
2023-01-09T04:46:35.061649142Z I0109 04:46:35.061637       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-endpoints/4cfac3d64d9ed566" ...
2023-01-09T04:46:35.061700611Z I0109 04:46:35.061688       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-endpoints/cebc4266beb3f2a1" ...
2023-01-09T04:46:35.061751385Z I0109 04:46:35.061739       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-metrics-proxy-client-ca" ...
2023-01-09T04:46:35.061784623Z I0109 04:46:35.061773       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2023-01-09T04:46:35.061841914Z I0109 04:46:35.061830       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-metrics-proxy-serving-ca" ...
2023-01-09T04:46:35.061875267Z I0109 04:46:35.061863       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2023-01-09T04:46:35.061923751Z I0109 04:46:35.061912       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-peer-client-ca" ...
2023-01-09T04:46:35.061957750Z I0109 04:46:35.061946       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2023-01-09T04:46:35.062039890Z I0109 04:46:35.062023       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-pod" ...
2023-01-09T04:46:35.062074029Z I0109 04:46:35.062062       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-pod/forceRedeploymentReason" ...
2023-01-09T04:46:35.062129688Z I0109 04:46:35.062118       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-pod/pod.yaml" ...
2023-01-09T04:46:35.062188723Z I0109 04:46:35.062177       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-pod/version" ...
2023-01-09T04:46:35.062237855Z I0109 04:46:35.062226       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-serving-ca" ...
2023-01-09T04:46:35.062271138Z I0109 04:46:35.062259       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-6/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:46:35.062330931Z I0109 04:46:35.062318       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-certs" ...
2023-01-09T04:46:35.062339345Z I0109 04:46:35.062330       1 cmd.go:226] Getting secrets ...
2023-01-09T04:46:35.088023512Z I0109 04:46:35.066592       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs
2023-01-09T04:46:35.088023512Z I0109 04:46:35.066735       1 cmd.go:239] Getting config maps ...
2023-01-09T04:46:35.226492380Z I0109 04:46:35.226453       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca
2023-01-09T04:46:35.427613395Z I0109 04:46:35.427578       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca
2023-01-09T04:46:35.628195991Z I0109 04:46:35.628162       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca
2023-01-09T04:46:35.827549527Z I0109 04:46:35.827515       1 copy.go:60] Got configMap openshift-etcd/etcd-scripts
2023-01-09T04:46:36.026661451Z I0109 04:46:36.026627       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca
2023-01-09T04:46:36.226858423Z I0109 04:46:36.226826       1 copy.go:60] Got configMap openshift-etcd/restore-etcd-pod
2023-01-09T04:46:36.226886509Z I0109 04:46:36.226867       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs" ...
2023-01-09T04:46:36.226896653Z I0109 04:46:36.226887       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227109274Z I0109 04:46:36.227089       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227193057Z I0109 04:46:36.227178       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227264025Z I0109 04:46:36.227249       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.227332729Z I0109 04:46:36.227318       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.227400533Z I0109 04:46:36.227386       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227471116Z I0109 04:46:36.227456       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227536356Z I0109 04:46:36.227523       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227603199Z I0109 04:46:36.227590       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.227672364Z I0109 04:46:36.227659       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.227740894Z I0109 04:46:36.227728       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.227811191Z I0109 04:46:36.227798       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227877513Z I0109 04:46:36.227865       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.227944935Z I0109 04:46:36.227932       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.228029956Z I0109 04:46:36.228016       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.228100104Z I0109 04:46:36.228087       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.228174700Z I0109 04:46:36.228161       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:46:36.228251314Z I0109 04:46:36.228239       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:46:36.228321267Z I0109 04:46:36.228309       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca" ...
2023-01-09T04:46:36.228337471Z I0109 04:46:36.228326       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2023-01-09T04:46:36.228425344Z I0109 04:46:36.228410       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca" ...
2023-01-09T04:46:36.228433962Z I0109 04:46:36.228424       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2023-01-09T04:46:36.228507585Z I0109 04:46:36.228495       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca" ...
2023-01-09T04:46:36.228515765Z I0109 04:46:36.228508       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2023-01-09T04:46:36.228589777Z I0109 04:46:36.228578       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts" ...
2023-01-09T04:46:36.228605617Z I0109 04:46:36.228595       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-backup.sh" ...
2023-01-09T04:46:36.228685907Z I0109 04:46:36.228674       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-restore.sh" ...
2023-01-09T04:46:36.228751552Z I0109 04:46:36.228739       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools" ...
2023-01-09T04:46:36.228819201Z I0109 04:46:36.228807       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env" ...
2023-01-09T04:46:36.228884787Z I0109 04:46:36.228873       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca" ...
2023-01-09T04:46:36.228892859Z I0109 04:46:36.228886       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:46:36.228967290Z I0109 04:46:36.228955       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod" ...
2023-01-09T04:46:36.228975304Z I0109 04:46:36.228967       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/version" ...
2023-01-09T04:46:36.229070075Z I0109 04:46:36.229056       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/forceRedeploymentReason" ...
2023-01-09T04:46:36.229123817Z I0109 04:46:36.229110       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/pod.yaml" ...
2023-01-09T04:46:36.229212003Z I0109 04:46:36.229178       1 cmd.go:332] Getting pod configmaps/etcd-pod-6 -n openshift-etcd
2023-01-09T04:46:36.428071413Z I0109 04:46:36.428035       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2023-01-09T04:46:36.428098902Z I0109 04:46:36.428070       1 cmd.go:376] Writing a pod under "etcd-pod.yaml" key 
2023-01-09T04:46:36.428098902Z apiVersion: v1
2023-01-09T04:46:36.428098902Z kind: Pod
2023-01-09T04:46:36.428098902Z metadata:
2023-01-09T04:46:36.428098902Z   name: etcd
2023-01-09T04:46:36.428098902Z   namespace: openshift-etcd
2023-01-09T04:46:36.428098902Z   annotations:
2023-01-09T04:46:36.428098902Z     kubectl.kubernetes.io/default-container: etcd
2023-01-09T04:46:36.428098902Z     target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
2023-01-09T04:46:36.428098902Z   labels:
2023-01-09T04:46:36.428098902Z     app: etcd
2023-01-09T04:46:36.428098902Z     k8s-app: etcd
2023-01-09T04:46:36.428098902Z     etcd: "true"
2023-01-09T04:46:36.428098902Z     revision: "6"
2023-01-09T04:46:36.428098902Z spec:
2023-01-09T04:46:36.428098902Z   initContainers:
2023-01-09T04:46:36.428098902Z     - name: setup
2023-01-09T04:46:36.428098902Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:46:36.428098902Z       imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428098902Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428098902Z       command:
2023-01-09T04:46:36.428098902Z         - /bin/sh
2023-01-09T04:46:36.428098902Z         - -c
2023-01-09T04:46:36.428098902Z         - |
2023-01-09T04:46:36.428098902Z           #!/bin/sh
2023-01-09T04:46:36.428098902Z           echo -n "Fixing etcd log permissions."
2023-01-09T04:46:36.428098902Z           chmod 0700 /var/log/etcd && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*
2023-01-09T04:46:36.428098902Z       securityContext:
2023-01-09T04:46:36.428098902Z         privileged: true
2023-01-09T04:46:36.428098902Z       resources:
2023-01-09T04:46:36.428098902Z         requests:
2023-01-09T04:46:36.428098902Z           memory: 50Mi
2023-01-09T04:46:36.428098902Z           cpu: 5m
2023-01-09T04:46:36.428098902Z       volumeMounts:
2023-01-09T04:46:36.428098902Z         - mountPath: /var/log/etcd
2023-01-09T04:46:36.428098902Z           name: log-dir
2023-01-09T04:46:36.428098902Z     - name: etcd-ensure-env-vars
2023-01-09T04:46:36.428098902Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:46:36.428098902Z       imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428098902Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428098902Z       command:
2023-01-09T04:46:36.428098902Z         - /bin/sh
2023-01-09T04:46:36.428098902Z         - -c
2023-01-09T04:46:36.428098902Z         - |
2023-01-09T04:46:36.428098902Z           #!/bin/sh
2023-01-09T04:46:36.428098902Z           set -euo pipefail
2023-01-09T04:46:36.428098902Z 
2023-01-09T04:46:36.428098902Z           : "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST?not set}"
2023-01-09T04:46:36.428098902Z           : "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME?not set}"
2023-01-09T04:46:36.428098902Z           : "${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP?not set}"
2023-01-09T04:46:36.428098902Z 
2023-01-09T04:46:36.428098902Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2023-01-09T04:46:36.428098902Z           if [[ "${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}" != "${NODE_IP}" && "${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}" != "[${NODE_IP}]" ]]; then
2023-01-09T04:46:36.428098902Z             # echo the error message to stderr
2023-01-09T04:46:36.428098902Z             echo "Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}" >&2
2023-01-09T04:46:36.428098902Z             exit 1
2023-01-09T04:46:36.428098902Z           fi
2023-01-09T04:46:36.428098902Z 
2023-01-09T04:46:36.428098902Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2023-01-09T04:46:36.428098902Z           if [[ "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
2023-01-09T04:46:36.428098902Z             # echo the error message to stderr
2023-01-09T04:46:36.428098902Z             echo "Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}" >&2
2023-01-09T04:46:36.428098902Z             exit 1
2023-01-09T04:46:36.428098902Z           fi
2023-01-09T04:46:36.428098902Z 
2023-01-09T04:46:36.428098902Z       resources:
2023-01-09T04:46:36.428098902Z         requests:
2023-01-09T04:46:36.428098902Z           memory: 60Mi
2023-01-09T04:46:36.428098902Z           cpu: 10m
2023-01-09T04:46:36.428098902Z       securityContext:
2023-01-09T04:46:36.428098902Z         privileged: true
2023-01-09T04:46:36.428098902Z       env:
2023-01-09T04:46:36.428098902Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:46:36.428098902Z         value: "https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_API"
2023-01-09T04:46:36.428098902Z         value: "3"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:46:36.428098902Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_CERT"
2023-01-09T04:46:36.428098902Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:46:36.428098902Z         value: "https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_KEY"
2023-01-09T04:46:36.428098902Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:46:36.428098902Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:46:36.428098902Z         value: "/var/lib/etcd"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:46:36.428098902Z         value: "1000"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:46:36.428098902Z         value: "true"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:46:36.428098902Z         value: "3"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:46:36.428098902Z         value: "200ms"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:46:36.428098902Z         value: "5s"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:46:36.428098902Z         value: "100"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_IMAGE"
2023-01-09T04:46:36.428098902Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:46:36.428098902Z         value: "existing"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:46:36.428098902Z         value: "8589934592"
2023-01-09T04:46:36.428098902Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:46:36.428098902Z         value: "true"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428098902Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428098902Z         value: "10.0.145.4"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428098902Z         value: "10.0.145.4"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428098902Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428098902Z         value: "10.0.160.211"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428098902Z         value: "10.0.160.211"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428098902Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428098902Z         value: "10.0.199.219"
2023-01-09T04:46:36.428098902Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428098902Z         value: "10.0.199.219"
2023-01-09T04:46:36.428098902Z       - name: NODE_IP
2023-01-09T04:46:36.428098902Z         valueFrom:
2023-01-09T04:46:36.428098902Z           fieldRef:
2023-01-09T04:46:36.428098902Z             fieldPath: status.podIP
2023-01-09T04:46:36.428098902Z     - name: etcd-resources-copy
2023-01-09T04:46:36.428098902Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:46:36.428098902Z       imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428098902Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428098902Z       command:
2023-01-09T04:46:36.428098902Z         - /bin/sh
2023-01-09T04:46:36.428098902Z         - -c
2023-01-09T04:46:36.428098902Z         - |
2023-01-09T04:46:36.428098902Z           #!/bin/sh
2023-01-09T04:46:36.428098902Z           set -euo pipefail
2023-01-09T04:46:36.428098902Z 
2023-01-09T04:46:36.428098902Z           rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
2023-01-09T04:46:36.428098902Z           cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
2023-01-09T04:46:36.428098902Z 
2023-01-09T04:46:36.428098902Z       resources:
2023-01-09T04:46:36.428098902Z         requests:
2023-01-09T04:46:36.428098902Z           memory: 60Mi
2023-01-09T04:46:36.428098902Z           cpu: 10m
2023-01-09T04:46:36.428098902Z       securityContext:
2023-01-09T04:46:36.428098902Z         privileged: true
2023-01-09T04:46:36.428098902Z       volumeMounts:
2023-01-09T04:46:36.428098902Z         - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:46:36.428098902Z           name: resource-dir
2023-01-09T04:46:36.428098902Z         - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:46:36.428098902Z           name: cert-dir
2023-01-09T04:46:36.428098902Z         - mountPath: /usr/local/bin
2023-01-09T04:46:36.428098902Z           name: usr-local-bin
2023-01-09T04:46:36.428098902Z   containers:
2023-01-09T04:46:36.428098902Z   # The etcdctl container should always be first. It is intended to be used
2023-01-09T04:46:36.428098902Z   # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.
2023-01-09T04:46:36.428098902Z   - name: etcdctl
2023-01-09T04:46:36.428098902Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:46:36.428098902Z     imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428098902Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428098902Z     command:
2023-01-09T04:46:36.428098902Z       - "/bin/bash"
2023-01-09T04:46:36.428098902Z       - "-c"
2023-01-09T04:46:36.428098902Z       - "trap TERM INT; sleep infinity & wait"
2023-01-09T04:46:36.428098902Z     resources:
2023-01-09T04:46:36.428098902Z       requests:
2023-01-09T04:46:36.428098902Z         memory: 60Mi
2023-01-09T04:46:36.428098902Z         cpu: 10m
2023-01-09T04:46:36.428098902Z     volumeMounts:
2023-01-09T04:46:36.428098902Z       - mountPath: /etc/kubernetes/manifests
2023-01-09T04:46:36.428098902Z         name: static-pod-dir
2023-01-09T04:46:36.428098902Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:46:36.428098902Z         name: resource-dir
2023-01-09T04:46:36.428098902Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:46:36.428098902Z         name: cert-dir
2023-01-09T04:46:36.428098902Z       - mountPath: /var/lib/etcd/
2023-01-09T04:46:36.428098902Z         name: data-dir
2023-01-09T04:46:36.428098902Z     env:
2023-01-09T04:46:36.428098902Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:46:36.428098902Z         value: "https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_API"
2023-01-09T04:46:36.428098902Z         value: "3"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:46:36.428098902Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_CERT"
2023-01-09T04:46:36.428098902Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:46:36.428098902Z         value: "https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428098902Z       - name: "ETCDCTL_KEY"
2023-01-09T04:46:36.428098902Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:46:36.428167717Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:46:36.428167717Z         value: "/var/lib/etcd"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:46:36.428167717Z         value: "1000"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:46:36.428167717Z         value: "true"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:46:36.428167717Z         value: "3"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:46:36.428167717Z         value: "200ms"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:46:36.428167717Z         value: "5s"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:46:36.428167717Z         value: "100"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_IMAGE"
2023-01-09T04:46:36.428167717Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:46:36.428167717Z         value: "existing"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:46:36.428167717Z         value: "8589934592"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:46:36.428167717Z         value: "true"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428167717Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428167717Z         value: "10.0.145.4"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428167717Z         value: "10.0.145.4"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428167717Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428167717Z         value: "10.0.160.211"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428167717Z         value: "10.0.160.211"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428167717Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428167717Z         value: "10.0.199.219"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428167717Z         value: "10.0.199.219"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:46:36.428167717Z         value: "6"
2023-01-09T04:46:36.428167717Z   - name: etcd
2023-01-09T04:46:36.428167717Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:46:36.428167717Z     imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428167717Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428167717Z     command:
2023-01-09T04:46:36.428167717Z       - /bin/sh
2023-01-09T04:46:36.428167717Z       - -c
2023-01-09T04:46:36.428167717Z       - |
2023-01-09T04:46:36.428167717Z         #!/bin/sh
2023-01-09T04:46:36.428167717Z         set -euo pipefail
2023-01-09T04:46:36.428167717Z 
2023-01-09T04:46:36.428167717Z         etcdctl member list || true
2023-01-09T04:46:36.428167717Z 
2023-01-09T04:46:36.428167717Z         # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
2023-01-09T04:46:36.428167717Z         # will succeed when you should fail.
2023-01-09T04:46:36.428167717Z         ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
2023-01-09T04:46:36.428167717Z           --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2023-01-09T04:46:36.428167717Z           --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:46:36.428167717Z           --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:46:36.428167717Z           --endpoints=${ALL_ETCD_ENDPOINTS} \
2023-01-09T04:46:36.428167717Z           --data-dir=/var/lib/etcd \
2023-01-09T04:46:36.428167717Z           --target-peer-url-host=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST} \
2023-01-09T04:46:36.428167717Z           --target-name=ip-10-0-160-211.us-east-2.compute.internal)
2023-01-09T04:46:36.428167717Z         export ETCD_INITIAL_CLUSTER
2023-01-09T04:46:36.428167717Z 
2023-01-09T04:46:36.428167717Z         # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
2023-01-09T04:46:36.428167717Z         # so we do the detection in etcd container itself.
2023-01-09T04:46:36.428167717Z         echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
2023-01-09T04:46:36.428167717Z         time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
2023-01-09T04:46:36.428167717Z           echo -n "."
2023-01-09T04:46:36.428167717Z           sleep 1
2023-01-09T04:46:36.428167717Z         done
2023-01-09T04:46:36.428167717Z 
2023-01-09T04:46:36.428167717Z         export ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}
2023-01-09T04:46:36.428167717Z         env | grep ETCD | grep -v NODE
2023-01-09T04:46:36.428167717Z 
2023-01-09T04:46:36.428167717Z         set -x
2023-01-09T04:46:36.428167717Z         # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
2023-01-09T04:46:36.428167717Z         exec nice -n -19 ionice -c2 -n0 etcd \
2023-01-09T04:46:36.428167717Z           --logger=zap \
2023-01-09T04:46:36.428167717Z           --log-level=info \
2023-01-09T04:46:36.428167717Z           --experimental-initial-corrupt-check=true \
2023-01-09T04:46:36.428167717Z           --initial-advertise-peer-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2380 \
2023-01-09T04:46:36.428167717Z           --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:46:36.428167717Z           --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:46:36.428167717Z           --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2023-01-09T04:46:36.428167717Z           --client-cert-auth=true \
2023-01-09T04:46:36.428167717Z           --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:46:36.428167717Z           --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:46:36.428167717Z           --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2023-01-09T04:46:36.428167717Z           --peer-client-cert-auth=true \
2023-01-09T04:46:36.428167717Z           --advertise-client-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2379 \
2023-01-09T04:46:36.428167717Z           --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:0 \
2023-01-09T04:46:36.428167717Z           --listen-peer-urls=https://0.0.0.0:2380 \
2023-01-09T04:46:36.428167717Z           --metrics=extensive \
2023-01-09T04:46:36.428167717Z           --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
2023-01-09T04:46:36.428167717Z     env:
2023-01-09T04:46:36.428167717Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:46:36.428167717Z         value: "https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428167717Z       - name: "ETCDCTL_API"
2023-01-09T04:46:36.428167717Z         value: "3"
2023-01-09T04:46:36.428167717Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:46:36.428167717Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:46:36.428167717Z       - name: "ETCDCTL_CERT"
2023-01-09T04:46:36.428167717Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:46:36.428167717Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:46:36.428167717Z         value: "https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428167717Z       - name: "ETCDCTL_KEY"
2023-01-09T04:46:36.428167717Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:46:36.428167717Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:46:36.428167717Z         value: "/var/lib/etcd"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:46:36.428167717Z         value: "1000"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:46:36.428167717Z         value: "true"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:46:36.428167717Z         value: "3"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:46:36.428167717Z         value: "200ms"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:46:36.428167717Z         value: "5s"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:46:36.428167717Z         value: "100"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_IMAGE"
2023-01-09T04:46:36.428167717Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:46:36.428167717Z         value: "existing"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:46:36.428167717Z         value: "8589934592"
2023-01-09T04:46:36.428167717Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:46:36.428167717Z         value: "true"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428167717Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428167717Z         value: "10.0.145.4"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428167717Z         value: "10.0.145.4"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428167717Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428167717Z         value: "10.0.160.211"
2023-01-09T04:46:36.428167717Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428167717Z         value: "10.0.160.211"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428214483Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428214483Z         value: "10.0.199.219"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428214483Z         value: "10.0.199.219"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:46:36.428214483Z         value: "6"
2023-01-09T04:46:36.428214483Z     resources:
2023-01-09T04:46:36.428214483Z       requests:
2023-01-09T04:46:36.428214483Z         memory: 600Mi
2023-01-09T04:46:36.428214483Z         cpu: 300m
2023-01-09T04:46:36.428214483Z     readinessProbe:
2023-01-09T04:46:36.428214483Z       httpGet:
2023-01-09T04:46:36.428214483Z         port: 9980
2023-01-09T04:46:36.428214483Z         path: readyz
2023-01-09T04:46:36.428214483Z         scheme: HTTPS
2023-01-09T04:46:36.428214483Z       timeoutSeconds: 10
2023-01-09T04:46:36.428214483Z       failureThreshold: 3
2023-01-09T04:46:36.428214483Z       periodSeconds: 5
2023-01-09T04:46:36.428214483Z       successThreshold: 1
2023-01-09T04:46:36.428214483Z     livenessProbe:
2023-01-09T04:46:36.428214483Z       httpGet:
2023-01-09T04:46:36.428214483Z         path: healthz
2023-01-09T04:46:36.428214483Z         port: 9980
2023-01-09T04:46:36.428214483Z         scheme: HTTPS
2023-01-09T04:46:36.428214483Z       timeoutSeconds: 10
2023-01-09T04:46:36.428214483Z       periodSeconds: 5
2023-01-09T04:46:36.428214483Z       successThreshold: 1
2023-01-09T04:46:36.428214483Z       failureThreshold: 3
2023-01-09T04:46:36.428214483Z     startupProbe:
2023-01-09T04:46:36.428214483Z       httpGet:
2023-01-09T04:46:36.428214483Z         port: 9980
2023-01-09T04:46:36.428214483Z         path: readyz
2023-01-09T04:46:36.428214483Z         scheme: HTTPS
2023-01-09T04:46:36.428214483Z       initialDelaySeconds: 10
2023-01-09T04:46:36.428214483Z       timeoutSeconds: 1
2023-01-09T04:46:36.428214483Z       periodSeconds: 10
2023-01-09T04:46:36.428214483Z       successThreshold: 1
2023-01-09T04:46:36.428214483Z       failureThreshold: 18
2023-01-09T04:46:36.428214483Z     securityContext:
2023-01-09T04:46:36.428214483Z       privileged: true
2023-01-09T04:46:36.428214483Z     volumeMounts:
2023-01-09T04:46:36.428214483Z       - mountPath: /etc/kubernetes/manifests
2023-01-09T04:46:36.428214483Z         name: static-pod-dir
2023-01-09T04:46:36.428214483Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:46:36.428214483Z         name: resource-dir
2023-01-09T04:46:36.428214483Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:46:36.428214483Z         name: cert-dir
2023-01-09T04:46:36.428214483Z       - mountPath: /var/lib/etcd/
2023-01-09T04:46:36.428214483Z         name: data-dir
2023-01-09T04:46:36.428214483Z   - name: etcd-metrics
2023-01-09T04:46:36.428214483Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:46:36.428214483Z     imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428214483Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428214483Z     command:
2023-01-09T04:46:36.428214483Z       - /bin/sh
2023-01-09T04:46:36.428214483Z       - -c
2023-01-09T04:46:36.428214483Z       - |
2023-01-09T04:46:36.428214483Z         #!/bin/sh
2023-01-09T04:46:36.428214483Z         set -euo pipefail
2023-01-09T04:46:36.428214483Z 
2023-01-09T04:46:36.428214483Z         export ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}
2023-01-09T04:46:36.428214483Z 
2023-01-09T04:46:36.428214483Z         exec nice -n -18 etcd grpc-proxy start \
2023-01-09T04:46:36.428214483Z           --endpoints https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}:9978 \
2023-01-09T04:46:36.428214483Z           --metrics-addr https://0.0.0.0:9979 \
2023-01-09T04:46:36.428214483Z           --listen-addr 127.0.0.1:9977 \
2023-01-09T04:46:36.428214483Z           --advertise-client-url ""  \
2023-01-09T04:46:36.428214483Z           --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:46:36.428214483Z           --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:46:36.428214483Z           --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:46:36.428214483Z           --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:46:36.428214483Z           --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2023-01-09T04:46:36.428214483Z           --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
2023-01-09T04:46:36.428214483Z           --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
2023-01-09T04:46:36.428214483Z     env:
2023-01-09T04:46:36.428214483Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:46:36.428214483Z         value: "https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_API"
2023-01-09T04:46:36.428214483Z         value: "3"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:46:36.428214483Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_CERT"
2023-01-09T04:46:36.428214483Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:46:36.428214483Z         value: "https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_KEY"
2023-01-09T04:46:36.428214483Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:46:36.428214483Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:46:36.428214483Z         value: "/var/lib/etcd"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:46:36.428214483Z         value: "1000"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:46:36.428214483Z         value: "true"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:46:36.428214483Z         value: "3"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:46:36.428214483Z         value: "200ms"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:46:36.428214483Z         value: "5s"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:46:36.428214483Z         value: "100"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_IMAGE"
2023-01-09T04:46:36.428214483Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:46:36.428214483Z         value: "existing"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:46:36.428214483Z         value: "8589934592"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:46:36.428214483Z         value: "true"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428214483Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428214483Z         value: "10.0.145.4"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428214483Z         value: "10.0.145.4"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428214483Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428214483Z         value: "10.0.160.211"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428214483Z         value: "10.0.160.211"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428214483Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428214483Z         value: "10.0.199.219"
2023-01-09T04:46:36.428214483Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428214483Z         value: "10.0.199.219"
2023-01-09T04:46:36.428214483Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:46:36.428214483Z         value: "6"
2023-01-09T04:46:36.428214483Z     resources:
2023-01-09T04:46:36.428214483Z       requests:
2023-01-09T04:46:36.428214483Z         memory: 200Mi
2023-01-09T04:46:36.428214483Z         cpu: 40m
2023-01-09T04:46:36.428214483Z     securityContext:
2023-01-09T04:46:36.428214483Z       privileged: true
2023-01-09T04:46:36.428214483Z     volumeMounts:
2023-01-09T04:46:36.428214483Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:46:36.428214483Z         name: resource-dir
2023-01-09T04:46:36.428214483Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:46:36.428214483Z         name: cert-dir
2023-01-09T04:46:36.428214483Z       - mountPath: /var/lib/etcd/
2023-01-09T04:46:36.428214483Z         name: data-dir
2023-01-09T04:46:36.428214483Z   - name: etcd-readyz
2023-01-09T04:46:36.428214483Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a16832e9c1f864f0f8455237987cb75061483d55d4fd2619af2f93ac3563390d
2023-01-09T04:46:36.428214483Z     imagePullPolicy: IfNotPresent
2023-01-09T04:46:36.428214483Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:46:36.428214483Z     command:
2023-01-09T04:46:36.428214483Z       - /bin/sh
2023-01-09T04:46:36.428214483Z       - -c
2023-01-09T04:46:36.428214483Z       - |
2023-01-09T04:46:36.428214483Z         #!/bin/sh
2023-01-09T04:46:36.428214483Z         set -euo pipefail
2023-01-09T04:46:36.428214483Z         
2023-01-09T04:46:36.428214483Z         exec nice -n -18 cluster-etcd-operator readyz \
2023-01-09T04:46:36.428214483Z           --target=https://localhost:2379 \
2023-01-09T04:46:36.428214483Z           --listen-port=9980 \
2023-01-09T04:46:36.428214483Z           --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:46:36.428214483Z           --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:46:36.428214483Z           --client-cert-file=$(ETCDCTL_CERT) \
2023-01-09T04:46:36.428214483Z           --client-key-file=$(ETCDCTL_KEY) \
2023-01-09T04:46:36.428214483Z           --client-cacert-file=$(ETCDCTL_CACERT)
2023-01-09T04:46:36.428214483Z     securityContext:
2023-01-09T04:46:36.428214483Z       privileged: true
2023-01-09T04:46:36.428214483Z     ports:
2023-01-09T04:46:36.428214483Z     - containerPort: 9980
2023-01-09T04:46:36.428214483Z       name: readyz
2023-01-09T04:46:36.428214483Z       protocol: TCP
2023-01-09T04:46:36.428214483Z     resources:
2023-01-09T04:46:36.428214483Z       requests:
2023-01-09T04:46:36.428214483Z         memory: 50Mi
2023-01-09T04:46:36.428214483Z         cpu: 10m
2023-01-09T04:46:36.428214483Z     env:
2023-01-09T04:46:36.428214483Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:46:36.428214483Z         value: "https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_API"
2023-01-09T04:46:36.428214483Z         value: "3"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:46:36.428214483Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_CERT"
2023-01-09T04:46:36.428214483Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:46:36.428214483Z         value: "https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:46:36.428214483Z       - name: "ETCDCTL_KEY"
2023-01-09T04:46:36.428214483Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:46:36.428272395Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:46:36.428272395Z         value: "/var/lib/etcd"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:46:36.428272395Z         value: "1000"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:46:36.428272395Z         value: "true"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:46:36.428272395Z         value: "3"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:46:36.428272395Z         value: "200ms"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:46:36.428272395Z         value: "5s"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:46:36.428272395Z         value: "100"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_IMAGE"
2023-01-09T04:46:36.428272395Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:46:36.428272395Z         value: "existing"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:46:36.428272395Z         value: "8589934592"
2023-01-09T04:46:36.428272395Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:46:36.428272395Z         value: "true"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428272395Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428272395Z         value: "10.0.145.4"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428272395Z         value: "10.0.145.4"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428272395Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428272395Z         value: "10.0.160.211"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428272395Z         value: "10.0.160.211"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:46:36.428272395Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:46:36.428272395Z         value: "10.0.199.219"
2023-01-09T04:46:36.428272395Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:46:36.428272395Z         value: "10.0.199.219"
2023-01-09T04:46:36.428272395Z     volumeMounts:
2023-01-09T04:46:36.428272395Z       - mountPath: /var/log/etcd/
2023-01-09T04:46:36.428272395Z         name: log-dir
2023-01-09T04:46:36.428272395Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:46:36.428272395Z         name: cert-dir
2023-01-09T04:46:36.428272395Z   hostNetwork: true
2023-01-09T04:46:36.428272395Z   priorityClassName: system-node-critical
2023-01-09T04:46:36.428272395Z   tolerations:
2023-01-09T04:46:36.428272395Z   - operator: "Exists"
2023-01-09T04:46:36.428272395Z   volumes:
2023-01-09T04:46:36.428272395Z     - hostPath:
2023-01-09T04:46:36.428272395Z         path: /etc/kubernetes/manifests
2023-01-09T04:46:36.428272395Z       name: static-pod-dir
2023-01-09T04:46:36.428272395Z     - hostPath:
2023-01-09T04:46:36.428272395Z         path: /etc/kubernetes/static-pod-resources/etcd-pod-6
2023-01-09T04:46:36.428272395Z       name: resource-dir
2023-01-09T04:46:36.428272395Z     - hostPath:
2023-01-09T04:46:36.428272395Z         path: /etc/kubernetes/static-pod-resources/etcd-certs
2023-01-09T04:46:36.428272395Z       name: cert-dir
2023-01-09T04:46:36.428272395Z     - hostPath:
2023-01-09T04:46:36.428272395Z         path: /var/lib/etcd
2023-01-09T04:46:36.428272395Z         type: ""
2023-01-09T04:46:36.428272395Z       name: data-dir
2023-01-09T04:46:36.428272395Z     - hostPath:
2023-01-09T04:46:36.428272395Z         path: /usr/local/bin
2023-01-09T04:46:36.428272395Z       name: usr-local-bin
2023-01-09T04:46:36.428272395Z     - hostPath:
2023-01-09T04:46:36.428272395Z         path: /var/log/etcd
2023-01-09T04:46:36.428272395Z       name: log-dir
2023-01-09T04:46:36.433519738Z I0109 04:46:36.433495       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/etcd-pod-6/etcd-pod.yaml" ...
2023-01-09T04:46:36.433701601Z I0109 04:46:36.433683       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2023-01-09T04:46:36.433738078Z I0109 04:46:36.433699       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2023-01-09T04:46:36.433738078Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"etcd","namespace":"openshift-etcd","creationTimestamp":null,"labels":{"app":"etcd","etcd":"true","k8s-app":"etcd","revision":"6"},"annotations":{"kubectl.kubernetes.io/default-container":"etcd","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"static-pod-dir","hostPath":{"path":"/etc/kubernetes/manifests"}},{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-pod-6"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-certs"}},{"name":"data-dir","hostPath":{"path":"/var/lib/etcd","type":""}},{"name":"usr-local-bin","hostPath":{"path":"/usr/local/bin"}},{"name":"log-dir","hostPath":{"path":"/var/log/etcd"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\necho -n \"Fixing etcd log permissions.\"\nchmod 0700 /var/log/etcd \u0026\u0026 touch /var/log/etcd/etcd-health-probe.log \u0026\u0026 chmod 0600 /var/log/etcd/*\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-ensure-env-vars","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\n: \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST?not set}\"\n: \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME?not set}\"\n: \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP?not set}\"\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}\" \u003e\u00262\n  exit 1\nfi\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}\" \u003e\u00262\n  exit 1\nfi\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-resources-copy","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nrm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)\ncp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin\n"],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"usr-local-bin","mountPath":"/usr/local/bin"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"etcdctl","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/bash","-c","trap TERM INT; sleep infinity \u0026 wait"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"6"}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"etcd","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\netcdctl member list || true\n\n# this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you\n# will succeed when you should fail.\nETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \\\n  --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --endpoints=${ALL_ETCD_ENDPOINTS} \\\n  --data-dir=/var/lib/etcd \\\n  --target-peer-url-host=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST} \\\n  --target-name=ip-10-0-160-211.us-east-2.compute.internal)\nexport ETCD_INITIAL_CLUSTER\n\n# we cannot use the \"normal\" port conflict initcontainer because when we upgrade, the existing static pod will never yield,\n# so we do the detection in etcd container itself.\necho -n \"Waiting for ports 2379, 2380 and 9978 to be released.\"\ntime while [ -n \"$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n  echo -n \".\"\n  sleep 1\ndone\n\nexport ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}\nenv | grep ETCD | grep -v NODE\n\nset -x\n# See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice\nexec nice -n -19 ionice -c2 -n0 etcd \\\n  --logger=zap \\\n  --log-level=info \\\n  --experimental-initial-corrupt-check=true \\\n  --initial-advertise-peer-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2380 \\\n  --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --client-cert-auth=true \\\n  --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --peer-client-cert-auth=true \\\n  --advertise-client-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2379 \\\n  --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:0 \\\n  --listen-peer-urls=https://0.0.0.0:2380 \\\n  --metrics=extensive \\\n  --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"6"}],"resources":{"requests":{"cpu":"300m","memory":"600Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"livenessProbe":{"httpGet":{"path":"healthz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"startupProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":18},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-metrics","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexport ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}\n\nexec nice -n -18 etcd grpc-proxy start \\\n  --endpoints https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}:9978 \\\n  --metrics-addr https://0.0.0.0:9979 \\\n  --listen-addr 127.0.0.1:9977 \\\n  --advertise-client-url \"\"  \\\n  --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \\\n  --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"6"}],"resources":{"requests":{"cpu":"40m","memory":"200Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a16832e9c1f864f0f8455237987cb75061483d55d4fd2619af2f93ac3563390d","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexec nice -n -18 cluster-etcd-operator readyz \\\n  --target=https://localhost:2379 \\\n  --listen-port=9980 \\\n  --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --client-cert-file=$(ETCDCTL_CERT) \\\n  --client-key-file=$(ETCDCTL_KEY) \\\n  --client-cacert-file=$(ETCDCTL_CACERT)\n"],"ports":[{"name":"readyz","containerPort":9980,"protocol":"TCP"}],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd/"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
