2023-01-09T04:51:29.995630149Z I0109 04:51:29.995453       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc00063aa00 cert-dir:0xc00063abe0 cert-secrets:0xc00063a960 configmaps:0xc00063a500 namespace:0xc00063a320 pod:0xc00063a3c0 pod-manifest-dir:0xc00063a780 resource-dir:0xc00063a6e0 revision:0xc00063a280 secrets:0xc00063a460 v:0xc0004bfd60] [0xc0004bfd60 0xc00063a280 0xc00063a320 0xc00063a3c0 0xc00063a6e0 0xc00063a780 0xc00063a500 0xc00063a460 0xc00063abe0 0xc00063aa00 0xc00063a960] [] map[add-dir-header:0xc0004bf5e0 alsologtostderr:0xc0004bf680 cert-configmaps:0xc00063aa00 cert-dir:0xc00063abe0 cert-secrets:0xc00063a960 configmaps:0xc00063a500 help:0xc00069ac80 kubeconfig:0xc00063a1e0 log-backtrace-at:0xc0004bf7c0 log-dir:0xc0004bf860 log-file:0xc0004bf900 log-file-max-size:0xc0004bf9a0 log-flush-frequency:0xc0004bf720 logtostderr:0xc0004bfa40 namespace:0xc00063a320 one-output:0xc0004bfae0 optional-cert-configmaps:0xc00063ab40 optional-cert-secrets:0xc00063aaa0 optional-configmaps:0xc00063a640 optional-secrets:0xc00063a5a0 pod:0xc00063a3c0 pod-manifest-dir:0xc00063a780 pod-manifests-lock-file:0xc00063a8c0 resource-dir:0xc00063a6e0 revision:0xc00063a280 secrets:0xc00063a460 skip-headers:0xc0004bfb80 skip-log-headers:0xc0004bfc20 stderrthreshold:0xc0004bfcc0 timeout-duration:0xc00063a820 v:0xc0004bfd60 vmodule:0xc0004bfe00] [0xc00063a1e0 0xc00063a280 0xc00063a320 0xc00063a3c0 0xc00063a460 0xc00063a500 0xc00063a5a0 0xc00063a640 0xc00063a6e0 0xc00063a780 0xc00063a820 0xc00063a8c0 0xc00063a960 0xc00063aa00 0xc00063aaa0 0xc00063ab40 0xc00063abe0 0xc0004bf5e0 0xc0004bf680 0xc0004bf7c0 0xc0004bf860 0xc0004bf900 0xc0004bf9a0 0xc0004bf720 0xc0004bfa40 0xc0004bfae0 0xc0004bfb80 0xc0004bfc20 0xc0004bfcc0 0xc0004bfd60 0xc0004bfe00 0xc00069ac80] [0xc0004bf5e0 0xc0004bf680 0xc00063aa00 0xc00063abe0 0xc00063a960 0xc00063a500 0xc00069ac80 0xc00063a1e0 0xc0004bf7c0 0xc0004bf860 0xc0004bf900 0xc0004bf9a0 0xc0004bf720 0xc0004bfa40 0xc00063a320 0xc0004bfae0 0xc00063ab40 0xc00063aaa0 0xc00063a640 0xc00063a5a0 0xc00063a3c0 0xc00063a780 0xc00063a8c0 0xc00063a6e0 0xc00063a280 0xc00063a460 0xc0004bfb80 0xc0004bfc20 0xc0004bfcc0 0xc00063a820 0xc0004bfd60 0xc0004bfe00] map[104:0xc00069ac80 118:0xc0004bfd60] [] -1 0 0xc0005d83f0 true <nil> []}
2023-01-09T04:51:29.995762900Z I0109 04:51:29.995642       1 cmd.go:93] (*installerpod.InstallOptions)(0xc0000fda00)({
2023-01-09T04:51:29.995762900Z  KubeConfig: (string) "",
2023-01-09T04:51:29.995762900Z  KubeClient: (kubernetes.Interface) <nil>,
2023-01-09T04:51:29.995762900Z  Revision: (string) (len=1) "7",
2023-01-09T04:51:29.995762900Z  NodeName: (string) "",
2023-01-09T04:51:29.995762900Z  Namespace: (string) (len=14) "openshift-etcd",
2023-01-09T04:51:29.995762900Z  PodConfigMapNamePrefix: (string) (len=8) "etcd-pod",
2023-01-09T04:51:29.995762900Z  SecretNamePrefixes: ([]string) (len=1 cap=1) {
2023-01-09T04:51:29.995762900Z   (string) (len=14) "etcd-all-certs"
2023-01-09T04:51:29.995762900Z  },
2023-01-09T04:51:29.995762900Z  OptionalSecretNamePrefixes: ([]string) <nil>,
2023-01-09T04:51:29.995762900Z  ConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2023-01-09T04:51:29.995762900Z   (string) (len=8) "etcd-pod",
2023-01-09T04:51:29.995762900Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=19) "etcd-peer-client-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=28) "etcd-metrics-proxy-client-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=14) "etcd-endpoints"
2023-01-09T04:51:29.995762900Z  },
2023-01-09T04:51:29.995762900Z  OptionalConfigMapNamePrefixes: ([]string) <nil>,
2023-01-09T04:51:29.995762900Z  CertSecretNames: ([]string) (len=1 cap=1) {
2023-01-09T04:51:29.995762900Z   (string) (len=14) "etcd-all-certs"
2023-01-09T04:51:29.995762900Z  },
2023-01-09T04:51:29.995762900Z  OptionalCertSecretNamePrefixes: ([]string) <nil>,
2023-01-09T04:51:29.995762900Z  CertConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2023-01-09T04:51:29.995762900Z   (string) (len=16) "restore-etcd-pod",
2023-01-09T04:51:29.995762900Z   (string) (len=12) "etcd-scripts",
2023-01-09T04:51:29.995762900Z   (string) (len=15) "etcd-serving-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=19) "etcd-peer-client-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2023-01-09T04:51:29.995762900Z   (string) (len=28) "etcd-metrics-proxy-client-ca"
2023-01-09T04:51:29.995762900Z  },
2023-01-09T04:51:29.995762900Z  OptionalCertConfigMapNamePrefixes: ([]string) <nil>,
2023-01-09T04:51:29.995762900Z  CertDir: (string) (len=47) "/etc/kubernetes/static-pod-resources/etcd-certs",
2023-01-09T04:51:29.995762900Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2023-01-09T04:51:29.995762900Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2023-01-09T04:51:29.995762900Z  Timeout: (time.Duration) 2m0s,
2023-01-09T04:51:29.995762900Z  StaticPodManifestsLockFile: (string) "",
2023-01-09T04:51:29.995762900Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2023-01-09T04:51:29.995762900Z  KubeletVersion: (string) ""
2023-01-09T04:51:29.995762900Z })
2023-01-09T04:51:29.996259801Z I0109 04:51:29.996227       1 cmd.go:410] Getting controller reference for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:51:30.006815278Z I0109 04:51:30.006772       1 cmd.go:423] Waiting for installer revisions to settle for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:51:30.089128576Z I0109 04:51:30.089082       1 cmd.go:515] Waiting additional period after revisions have settled for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:52:00.089286175Z I0109 04:52:00.089239       1 cmd.go:521] Getting installer pods for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:52:00.093963218Z I0109 04:52:00.093931       1 cmd.go:539] Latest installer revision for node ip-10-0-160-211.us-east-2.compute.internal is: 7
2023-01-09T04:52:00.093963218Z I0109 04:52:00.093950       1 cmd.go:428] Querying kubelet version for node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:52:00.096619080Z I0109 04:52:00.096596       1 cmd.go:441] Got kubelet version 1.25.4+77bec7a on target node ip-10-0-160-211.us-east-2.compute.internal
2023-01-09T04:52:00.096619080Z I0109 04:52:00.096613       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-7" ...
2023-01-09T04:52:00.096718571Z I0109 04:52:00.096704       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-7" ...
2023-01-09T04:52:00.096718571Z I0109 04:52:00.096715       1 cmd.go:226] Getting secrets ...
2023-01-09T04:52:00.099544471Z I0109 04:52:00.099522       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs-7
2023-01-09T04:52:00.099665274Z I0109 04:52:00.099649       1 cmd.go:239] Getting config maps ...
2023-01-09T04:52:00.101975006Z I0109 04:52:00.101955       1 copy.go:60] Got configMap openshift-etcd/etcd-endpoints-7
2023-01-09T04:52:00.104219215Z I0109 04:52:00.104194       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca-7
2023-01-09T04:52:00.106336629Z I0109 04:52:00.106309       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca-7
2023-01-09T04:52:00.108446497Z I0109 04:52:00.108424       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca-7
2023-01-09T04:52:00.110800919Z I0109 04:52:00.110777       1 copy.go:60] Got configMap openshift-etcd/etcd-pod-7
2023-01-09T04:52:00.112878052Z I0109 04:52:00.112856       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca-7
2023-01-09T04:52:00.112899059Z I0109 04:52:00.112879       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs" ...
2023-01-09T04:52:00.112986348Z I0109 04:52:00.112973       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113083123Z I0109 04:52:00.113069       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113139356Z I0109 04:52:00.113125       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113188268Z I0109 04:52:00.113176       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113272777Z I0109 04:52:00.113259       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113342640Z I0109 04:52:00.113329       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113403511Z I0109 04:52:00.113390       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113458604Z I0109 04:52:00.113445       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113519599Z I0109 04:52:00.113497       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113570610Z I0109 04:52:00.113558       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113622598Z I0109 04:52:00.113610       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113676035Z I0109 04:52:00.113662       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113725543Z I0109 04:52:00.113713       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113777047Z I0109 04:52:00.113764       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113831078Z I0109 04:52:00.113817       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:00.113882006Z I0109 04:52:00.113869       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.113935388Z I0109 04:52:00.113922       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.114007137Z I0109 04:52:00.113976       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:52:00.114068927Z I0109 04:52:00.114056       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints" ...
2023-01-09T04:52:00.114126044Z I0109 04:52:00.114114       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/cebc4266beb3f2a1" ...
2023-01-09T04:52:00.114176346Z I0109 04:52:00.114164       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/4cfac3d64d9ed566" ...
2023-01-09T04:52:00.114227691Z I0109 04:52:00.114211       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/a9212f5cca23387a" ...
2023-01-09T04:52:00.114277718Z I0109 04:52:00.114266       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-client-ca" ...
2023-01-09T04:52:00.114310648Z I0109 04:52:00.114298       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2023-01-09T04:52:00.114359115Z I0109 04:52:00.114347       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-serving-ca" ...
2023-01-09T04:52:00.114392935Z I0109 04:52:00.114381       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2023-01-09T04:52:00.114440595Z I0109 04:52:00.114428       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-peer-client-ca" ...
2023-01-09T04:52:00.114473527Z I0109 04:52:00.114461       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2023-01-09T04:52:00.114523716Z I0109 04:52:00.114510       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod" ...
2023-01-09T04:52:00.114556501Z I0109 04:52:00.114544       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/forceRedeploymentReason" ...
2023-01-09T04:52:00.114620833Z I0109 04:52:00.114606       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/pod.yaml" ...
2023-01-09T04:52:00.114686279Z I0109 04:52:00.114667       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/version" ...
2023-01-09T04:52:00.114743321Z I0109 04:52:00.114731       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-serving-ca" ...
2023-01-09T04:52:00.114784790Z I0109 04:52:00.114772       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:52:00.114833982Z I0109 04:52:00.114821       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-certs" ...
2023-01-09T04:52:00.114844732Z I0109 04:52:00.114832       1 cmd.go:226] Getting secrets ...
2023-01-09T04:52:00.117476445Z I0109 04:52:00.117456       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs
2023-01-09T04:52:00.117562586Z I0109 04:52:00.117551       1 cmd.go:239] Getting config maps ...
2023-01-09T04:52:00.292778953Z I0109 04:52:00.292730       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca
2023-01-09T04:52:00.492824487Z I0109 04:52:00.492783       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca
2023-01-09T04:52:00.692600483Z I0109 04:52:00.692558       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca
2023-01-09T04:52:00.893495863Z I0109 04:52:00.893456       1 copy.go:60] Got configMap openshift-etcd/etcd-scripts
2023-01-09T04:52:01.092737135Z I0109 04:52:01.092690       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca
2023-01-09T04:52:01.293543098Z I0109 04:52:01.293492       1 copy.go:60] Got configMap openshift-etcd/restore-etcd-pod
2023-01-09T04:52:01.293582651Z I0109 04:52:01.293542       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs" ...
2023-01-09T04:52:01.293582651Z I0109 04:52:01.293565       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.293746006Z I0109 04:52:01.293732       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.293828444Z I0109 04:52:01.293815       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.293901154Z I0109 04:52:01.293888       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.293970727Z I0109 04:52:01.293958       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.294065300Z I0109 04:52:01.294050       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.294135073Z I0109 04:52:01.294122       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294203241Z I0109 04:52:01.294190       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.294273159Z I0109 04:52:01.294260       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.294340064Z I0109 04:52:01.294327       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294406734Z I0109 04:52:01.294394       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294485643Z I0109 04:52:01.294472       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-199-219.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.294553923Z I0109 04:52:01.294541       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294621138Z I0109 04:52:01.294608       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key" ...
2023-01-09T04:52:01.294689446Z I0109 04:52:01.294677       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294755433Z I0109 04:52:01.294743       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294822258Z I0109 04:52:01.294809       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-145-4.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294898769Z I0109 04:52:01.294884       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-199-219.us-east-2.compute.internal.crt" ...
2023-01-09T04:52:01.294968021Z I0109 04:52:01.294955       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca" ...
2023-01-09T04:52:01.294977909Z I0109 04:52:01.294970       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2023-01-09T04:52:01.295081836Z I0109 04:52:01.295068       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca" ...
2023-01-09T04:52:01.295092409Z I0109 04:52:01.295082       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2023-01-09T04:52:01.295165522Z I0109 04:52:01.295153       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca" ...
2023-01-09T04:52:01.295173747Z I0109 04:52:01.295167       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2023-01-09T04:52:01.295250072Z I0109 04:52:01.295238       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts" ...
2023-01-09T04:52:01.295258196Z I0109 04:52:01.295252       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-backup.sh" ...
2023-01-09T04:52:01.295340060Z I0109 04:52:01.295328       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-restore.sh" ...
2023-01-09T04:52:01.295406714Z I0109 04:52:01.295394       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools" ...
2023-01-09T04:52:01.295474764Z I0109 04:52:01.295462       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env" ...
2023-01-09T04:52:01.295541054Z I0109 04:52:01.295529       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca" ...
2023-01-09T04:52:01.295559634Z I0109 04:52:01.295548       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2023-01-09T04:52:01.295636440Z I0109 04:52:01.295624       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod" ...
2023-01-09T04:52:01.295644606Z I0109 04:52:01.295636       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/forceRedeploymentReason" ...
2023-01-09T04:52:01.295717624Z I0109 04:52:01.295705       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/pod.yaml" ...
2023-01-09T04:52:01.295792630Z I0109 04:52:01.295780       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/version" ...
2023-01-09T04:52:01.295860766Z I0109 04:52:01.295849       1 cmd.go:332] Getting pod configmaps/etcd-pod-7 -n openshift-etcd
2023-01-09T04:52:01.493600968Z I0109 04:52:01.493560       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2023-01-09T04:52:01.493644362Z I0109 04:52:01.493596       1 cmd.go:376] Writing a pod under "etcd-pod.yaml" key 
2023-01-09T04:52:01.493644362Z apiVersion: v1
2023-01-09T04:52:01.493644362Z kind: Pod
2023-01-09T04:52:01.493644362Z metadata:
2023-01-09T04:52:01.493644362Z   name: etcd
2023-01-09T04:52:01.493644362Z   namespace: openshift-etcd
2023-01-09T04:52:01.493644362Z   annotations:
2023-01-09T04:52:01.493644362Z     kubectl.kubernetes.io/default-container: etcd
2023-01-09T04:52:01.493644362Z     target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
2023-01-09T04:52:01.493644362Z   labels:
2023-01-09T04:52:01.493644362Z     app: etcd
2023-01-09T04:52:01.493644362Z     k8s-app: etcd
2023-01-09T04:52:01.493644362Z     etcd: "true"
2023-01-09T04:52:01.493644362Z     revision: "7"
2023-01-09T04:52:01.493644362Z spec:
2023-01-09T04:52:01.493644362Z   initContainers:
2023-01-09T04:52:01.493644362Z     - name: setup
2023-01-09T04:52:01.493644362Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:52:01.493644362Z       imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493644362Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493644362Z       command:
2023-01-09T04:52:01.493644362Z         - /bin/sh
2023-01-09T04:52:01.493644362Z         - -c
2023-01-09T04:52:01.493644362Z         - |
2023-01-09T04:52:01.493644362Z           #!/bin/sh
2023-01-09T04:52:01.493644362Z           echo -n "Fixing etcd log permissions."
2023-01-09T04:52:01.493644362Z           chmod 0700 /var/log/etcd && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*
2023-01-09T04:52:01.493644362Z       securityContext:
2023-01-09T04:52:01.493644362Z         privileged: true
2023-01-09T04:52:01.493644362Z       resources:
2023-01-09T04:52:01.493644362Z         requests:
2023-01-09T04:52:01.493644362Z           memory: 50Mi
2023-01-09T04:52:01.493644362Z           cpu: 5m
2023-01-09T04:52:01.493644362Z       volumeMounts:
2023-01-09T04:52:01.493644362Z         - mountPath: /var/log/etcd
2023-01-09T04:52:01.493644362Z           name: log-dir
2023-01-09T04:52:01.493644362Z     - name: etcd-ensure-env-vars
2023-01-09T04:52:01.493644362Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:52:01.493644362Z       imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493644362Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493644362Z       command:
2023-01-09T04:52:01.493644362Z         - /bin/sh
2023-01-09T04:52:01.493644362Z         - -c
2023-01-09T04:52:01.493644362Z         - |
2023-01-09T04:52:01.493644362Z           #!/bin/sh
2023-01-09T04:52:01.493644362Z           set -euo pipefail
2023-01-09T04:52:01.493644362Z 
2023-01-09T04:52:01.493644362Z           : "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST?not set}"
2023-01-09T04:52:01.493644362Z           : "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME?not set}"
2023-01-09T04:52:01.493644362Z           : "${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP?not set}"
2023-01-09T04:52:01.493644362Z 
2023-01-09T04:52:01.493644362Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2023-01-09T04:52:01.493644362Z           if [[ "${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}" != "${NODE_IP}" && "${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}" != "[${NODE_IP}]" ]]; then
2023-01-09T04:52:01.493644362Z             # echo the error message to stderr
2023-01-09T04:52:01.493644362Z             echo "Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}" >&2
2023-01-09T04:52:01.493644362Z             exit 1
2023-01-09T04:52:01.493644362Z           fi
2023-01-09T04:52:01.493644362Z 
2023-01-09T04:52:01.493644362Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2023-01-09T04:52:01.493644362Z           if [[ "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
2023-01-09T04:52:01.493644362Z             # echo the error message to stderr
2023-01-09T04:52:01.493644362Z             echo "Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}" >&2
2023-01-09T04:52:01.493644362Z             exit 1
2023-01-09T04:52:01.493644362Z           fi
2023-01-09T04:52:01.493644362Z 
2023-01-09T04:52:01.493644362Z       resources:
2023-01-09T04:52:01.493644362Z         requests:
2023-01-09T04:52:01.493644362Z           memory: 60Mi
2023-01-09T04:52:01.493644362Z           cpu: 10m
2023-01-09T04:52:01.493644362Z       securityContext:
2023-01-09T04:52:01.493644362Z         privileged: true
2023-01-09T04:52:01.493644362Z       env:
2023-01-09T04:52:01.493644362Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:52:01.493644362Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_API"
2023-01-09T04:52:01.493644362Z         value: "3"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:52:01.493644362Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_CERT"
2023-01-09T04:52:01.493644362Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:52:01.493644362Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_KEY"
2023-01-09T04:52:01.493644362Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:52:01.493644362Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:52:01.493644362Z         value: "/var/lib/etcd"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:52:01.493644362Z         value: "1000"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:52:01.493644362Z         value: "true"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:52:01.493644362Z         value: "3"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:52:01.493644362Z         value: "200ms"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:52:01.493644362Z         value: "5s"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:52:01.493644362Z         value: "100"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_IMAGE"
2023-01-09T04:52:01.493644362Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:52:01.493644362Z         value: "existing"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:52:01.493644362Z         value: "8589934592"
2023-01-09T04:52:01.493644362Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:52:01.493644362Z         value: "true"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493644362Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493644362Z         value: "10.0.145.4"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493644362Z         value: "10.0.145.4"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493644362Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493644362Z         value: "10.0.160.211"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493644362Z         value: "10.0.160.211"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493644362Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493644362Z         value: "10.0.199.219"
2023-01-09T04:52:01.493644362Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493644362Z         value: "10.0.199.219"
2023-01-09T04:52:01.493644362Z       - name: NODE_IP
2023-01-09T04:52:01.493644362Z         valueFrom:
2023-01-09T04:52:01.493644362Z           fieldRef:
2023-01-09T04:52:01.493644362Z             fieldPath: status.podIP
2023-01-09T04:52:01.493644362Z     - name: etcd-resources-copy
2023-01-09T04:52:01.493644362Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:52:01.493644362Z       imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493644362Z       terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493644362Z       command:
2023-01-09T04:52:01.493644362Z         - /bin/sh
2023-01-09T04:52:01.493644362Z         - -c
2023-01-09T04:52:01.493644362Z         - |
2023-01-09T04:52:01.493644362Z           #!/bin/sh
2023-01-09T04:52:01.493644362Z           set -euo pipefail
2023-01-09T04:52:01.493644362Z 
2023-01-09T04:52:01.493644362Z           rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
2023-01-09T04:52:01.493644362Z           cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
2023-01-09T04:52:01.493644362Z 
2023-01-09T04:52:01.493644362Z       resources:
2023-01-09T04:52:01.493644362Z         requests:
2023-01-09T04:52:01.493644362Z           memory: 60Mi
2023-01-09T04:52:01.493644362Z           cpu: 10m
2023-01-09T04:52:01.493644362Z       securityContext:
2023-01-09T04:52:01.493644362Z         privileged: true
2023-01-09T04:52:01.493644362Z       volumeMounts:
2023-01-09T04:52:01.493644362Z         - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:52:01.493644362Z           name: resource-dir
2023-01-09T04:52:01.493644362Z         - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:52:01.493644362Z           name: cert-dir
2023-01-09T04:52:01.493644362Z         - mountPath: /usr/local/bin
2023-01-09T04:52:01.493644362Z           name: usr-local-bin
2023-01-09T04:52:01.493644362Z   containers:
2023-01-09T04:52:01.493644362Z   # The etcdctl container should always be first. It is intended to be used
2023-01-09T04:52:01.493644362Z   # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.
2023-01-09T04:52:01.493644362Z   - name: etcdctl
2023-01-09T04:52:01.493644362Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:52:01.493644362Z     imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493644362Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493644362Z     command:
2023-01-09T04:52:01.493644362Z       - "/bin/bash"
2023-01-09T04:52:01.493644362Z       - "-c"
2023-01-09T04:52:01.493644362Z       - "trap TERM INT; sleep infinity & wait"
2023-01-09T04:52:01.493644362Z     resources:
2023-01-09T04:52:01.493644362Z       requests:
2023-01-09T04:52:01.493644362Z         memory: 60Mi
2023-01-09T04:52:01.493644362Z         cpu: 10m
2023-01-09T04:52:01.493644362Z     volumeMounts:
2023-01-09T04:52:01.493644362Z       - mountPath: /etc/kubernetes/manifests
2023-01-09T04:52:01.493644362Z         name: static-pod-dir
2023-01-09T04:52:01.493644362Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:52:01.493644362Z         name: resource-dir
2023-01-09T04:52:01.493644362Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:52:01.493644362Z         name: cert-dir
2023-01-09T04:52:01.493644362Z       - mountPath: /var/lib/etcd/
2023-01-09T04:52:01.493644362Z         name: data-dir
2023-01-09T04:52:01.493644362Z     env:
2023-01-09T04:52:01.493644362Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:52:01.493644362Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_API"
2023-01-09T04:52:01.493644362Z         value: "3"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:52:01.493644362Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_CERT"
2023-01-09T04:52:01.493644362Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:52:01.493644362Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:52:01.493644362Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493745144Z       - name: "ETCDCTL_KEY"
2023-01-09T04:52:01.493745144Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:52:01.493745144Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:52:01.493745144Z         value: "/var/lib/etcd"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:52:01.493745144Z         value: "1000"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:52:01.493745144Z         value: "true"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:52:01.493745144Z         value: "3"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:52:01.493745144Z         value: "200ms"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:52:01.493745144Z         value: "5s"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:52:01.493745144Z         value: "100"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_IMAGE"
2023-01-09T04:52:01.493745144Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:52:01.493745144Z         value: "existing"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:52:01.493745144Z         value: "8589934592"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:52:01.493745144Z         value: "true"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493745144Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493745144Z         value: "10.0.145.4"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493745144Z         value: "10.0.145.4"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493745144Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493745144Z         value: "10.0.160.211"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493745144Z         value: "10.0.160.211"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493745144Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493745144Z         value: "10.0.199.219"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493745144Z         value: "10.0.199.219"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:52:01.493745144Z         value: "7"
2023-01-09T04:52:01.493745144Z   - name: etcd
2023-01-09T04:52:01.493745144Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:52:01.493745144Z     imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493745144Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493745144Z     command:
2023-01-09T04:52:01.493745144Z       - /bin/sh
2023-01-09T04:52:01.493745144Z       - -c
2023-01-09T04:52:01.493745144Z       - |
2023-01-09T04:52:01.493745144Z         #!/bin/sh
2023-01-09T04:52:01.493745144Z         set -euo pipefail
2023-01-09T04:52:01.493745144Z 
2023-01-09T04:52:01.493745144Z         etcdctl member list || true
2023-01-09T04:52:01.493745144Z 
2023-01-09T04:52:01.493745144Z         # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
2023-01-09T04:52:01.493745144Z         # will succeed when you should fail.
2023-01-09T04:52:01.493745144Z         ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
2023-01-09T04:52:01.493745144Z           --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2023-01-09T04:52:01.493745144Z           --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:52:01.493745144Z           --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:52:01.493745144Z           --endpoints=${ALL_ETCD_ENDPOINTS} \
2023-01-09T04:52:01.493745144Z           --data-dir=/var/lib/etcd \
2023-01-09T04:52:01.493745144Z           --target-peer-url-host=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST} \
2023-01-09T04:52:01.493745144Z           --target-name=ip-10-0-160-211.us-east-2.compute.internal)
2023-01-09T04:52:01.493745144Z         export ETCD_INITIAL_CLUSTER
2023-01-09T04:52:01.493745144Z 
2023-01-09T04:52:01.493745144Z         # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
2023-01-09T04:52:01.493745144Z         # so we do the detection in etcd container itself.
2023-01-09T04:52:01.493745144Z         echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
2023-01-09T04:52:01.493745144Z         time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
2023-01-09T04:52:01.493745144Z           echo -n "."
2023-01-09T04:52:01.493745144Z           sleep 1
2023-01-09T04:52:01.493745144Z         done
2023-01-09T04:52:01.493745144Z 
2023-01-09T04:52:01.493745144Z         export ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}
2023-01-09T04:52:01.493745144Z         env | grep ETCD | grep -v NODE
2023-01-09T04:52:01.493745144Z 
2023-01-09T04:52:01.493745144Z         set -x
2023-01-09T04:52:01.493745144Z         # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
2023-01-09T04:52:01.493745144Z         exec nice -n -19 ionice -c2 -n0 etcd \
2023-01-09T04:52:01.493745144Z           --logger=zap \
2023-01-09T04:52:01.493745144Z           --log-level=info \
2023-01-09T04:52:01.493745144Z           --experimental-initial-corrupt-check=true \
2023-01-09T04:52:01.493745144Z           --initial-advertise-peer-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2380 \
2023-01-09T04:52:01.493745144Z           --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:52:01.493745144Z           --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:52:01.493745144Z           --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2023-01-09T04:52:01.493745144Z           --client-cert-auth=true \
2023-01-09T04:52:01.493745144Z           --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:52:01.493745144Z           --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:52:01.493745144Z           --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2023-01-09T04:52:01.493745144Z           --peer-client-cert-auth=true \
2023-01-09T04:52:01.493745144Z           --advertise-client-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2379 \
2023-01-09T04:52:01.493745144Z           --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:0 \
2023-01-09T04:52:01.493745144Z           --listen-peer-urls=https://0.0.0.0:2380 \
2023-01-09T04:52:01.493745144Z           --metrics=extensive \
2023-01-09T04:52:01.493745144Z           --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
2023-01-09T04:52:01.493745144Z     env:
2023-01-09T04:52:01.493745144Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:52:01.493745144Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493745144Z       - name: "ETCDCTL_API"
2023-01-09T04:52:01.493745144Z         value: "3"
2023-01-09T04:52:01.493745144Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:52:01.493745144Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:52:01.493745144Z       - name: "ETCDCTL_CERT"
2023-01-09T04:52:01.493745144Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:52:01.493745144Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:52:01.493745144Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493745144Z       - name: "ETCDCTL_KEY"
2023-01-09T04:52:01.493745144Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:52:01.493745144Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:52:01.493745144Z         value: "/var/lib/etcd"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:52:01.493745144Z         value: "1000"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:52:01.493745144Z         value: "true"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:52:01.493745144Z         value: "3"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:52:01.493745144Z         value: "200ms"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:52:01.493745144Z         value: "5s"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:52:01.493745144Z         value: "100"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_IMAGE"
2023-01-09T04:52:01.493745144Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:52:01.493745144Z         value: "existing"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:52:01.493745144Z         value: "8589934592"
2023-01-09T04:52:01.493745144Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:52:01.493745144Z         value: "true"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493745144Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493745144Z         value: "10.0.145.4"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493745144Z         value: "10.0.145.4"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493745144Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:52:01.493745144Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493816004Z         value: "10.0.160.211"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493816004Z         value: "10.0.160.211"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493816004Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493816004Z         value: "10.0.199.219"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493816004Z         value: "10.0.199.219"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:52:01.493816004Z         value: "7"
2023-01-09T04:52:01.493816004Z     resources:
2023-01-09T04:52:01.493816004Z       requests:
2023-01-09T04:52:01.493816004Z         memory: 600Mi
2023-01-09T04:52:01.493816004Z         cpu: 300m
2023-01-09T04:52:01.493816004Z     readinessProbe:
2023-01-09T04:52:01.493816004Z       httpGet:
2023-01-09T04:52:01.493816004Z         port: 9980
2023-01-09T04:52:01.493816004Z         path: readyz
2023-01-09T04:52:01.493816004Z         scheme: HTTPS
2023-01-09T04:52:01.493816004Z       timeoutSeconds: 10
2023-01-09T04:52:01.493816004Z       failureThreshold: 3
2023-01-09T04:52:01.493816004Z       periodSeconds: 5
2023-01-09T04:52:01.493816004Z       successThreshold: 1
2023-01-09T04:52:01.493816004Z     livenessProbe:
2023-01-09T04:52:01.493816004Z       httpGet:
2023-01-09T04:52:01.493816004Z         path: healthz
2023-01-09T04:52:01.493816004Z         port: 9980
2023-01-09T04:52:01.493816004Z         scheme: HTTPS
2023-01-09T04:52:01.493816004Z       timeoutSeconds: 10
2023-01-09T04:52:01.493816004Z       periodSeconds: 5
2023-01-09T04:52:01.493816004Z       successThreshold: 1
2023-01-09T04:52:01.493816004Z       failureThreshold: 3
2023-01-09T04:52:01.493816004Z     startupProbe:
2023-01-09T04:52:01.493816004Z       httpGet:
2023-01-09T04:52:01.493816004Z         port: 9980
2023-01-09T04:52:01.493816004Z         path: readyz
2023-01-09T04:52:01.493816004Z         scheme: HTTPS
2023-01-09T04:52:01.493816004Z       initialDelaySeconds: 10
2023-01-09T04:52:01.493816004Z       timeoutSeconds: 1
2023-01-09T04:52:01.493816004Z       periodSeconds: 10
2023-01-09T04:52:01.493816004Z       successThreshold: 1
2023-01-09T04:52:01.493816004Z       failureThreshold: 18
2023-01-09T04:52:01.493816004Z     securityContext:
2023-01-09T04:52:01.493816004Z       privileged: true
2023-01-09T04:52:01.493816004Z     volumeMounts:
2023-01-09T04:52:01.493816004Z       - mountPath: /etc/kubernetes/manifests
2023-01-09T04:52:01.493816004Z         name: static-pod-dir
2023-01-09T04:52:01.493816004Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:52:01.493816004Z         name: resource-dir
2023-01-09T04:52:01.493816004Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:52:01.493816004Z         name: cert-dir
2023-01-09T04:52:01.493816004Z       - mountPath: /var/lib/etcd/
2023-01-09T04:52:01.493816004Z         name: data-dir
2023-01-09T04:52:01.493816004Z   - name: etcd-metrics
2023-01-09T04:52:01.493816004Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020
2023-01-09T04:52:01.493816004Z     imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493816004Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493816004Z     command:
2023-01-09T04:52:01.493816004Z       - /bin/sh
2023-01-09T04:52:01.493816004Z       - -c
2023-01-09T04:52:01.493816004Z       - |
2023-01-09T04:52:01.493816004Z         #!/bin/sh
2023-01-09T04:52:01.493816004Z         set -euo pipefail
2023-01-09T04:52:01.493816004Z 
2023-01-09T04:52:01.493816004Z         export ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}
2023-01-09T04:52:01.493816004Z 
2023-01-09T04:52:01.493816004Z         exec nice -n -18 etcd grpc-proxy start \
2023-01-09T04:52:01.493816004Z           --endpoints https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}:9978 \
2023-01-09T04:52:01.493816004Z           --metrics-addr https://0.0.0.0:9979 \
2023-01-09T04:52:01.493816004Z           --listen-addr 127.0.0.1:9977 \
2023-01-09T04:52:01.493816004Z           --advertise-client-url ""  \
2023-01-09T04:52:01.493816004Z           --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:52:01.493816004Z           --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:52:01.493816004Z           --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:52:01.493816004Z           --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:52:01.493816004Z           --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2023-01-09T04:52:01.493816004Z           --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
2023-01-09T04:52:01.493816004Z           --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
2023-01-09T04:52:01.493816004Z     env:
2023-01-09T04:52:01.493816004Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:52:01.493816004Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_API"
2023-01-09T04:52:01.493816004Z         value: "3"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:52:01.493816004Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_CERT"
2023-01-09T04:52:01.493816004Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:52:01.493816004Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_KEY"
2023-01-09T04:52:01.493816004Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:52:01.493816004Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:52:01.493816004Z         value: "/var/lib/etcd"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:52:01.493816004Z         value: "1000"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:52:01.493816004Z         value: "true"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:52:01.493816004Z         value: "3"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:52:01.493816004Z         value: "200ms"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:52:01.493816004Z         value: "5s"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:52:01.493816004Z         value: "100"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_IMAGE"
2023-01-09T04:52:01.493816004Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:52:01.493816004Z         value: "existing"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:52:01.493816004Z         value: "8589934592"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:52:01.493816004Z         value: "true"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493816004Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493816004Z         value: "10.0.145.4"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493816004Z         value: "10.0.145.4"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493816004Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493816004Z         value: "10.0.160.211"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493816004Z         value: "10.0.160.211"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493816004Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493816004Z         value: "10.0.199.219"
2023-01-09T04:52:01.493816004Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493816004Z         value: "10.0.199.219"
2023-01-09T04:52:01.493816004Z       - name: "ETCD_STATIC_POD_VERSION"
2023-01-09T04:52:01.493816004Z         value: "7"
2023-01-09T04:52:01.493816004Z     resources:
2023-01-09T04:52:01.493816004Z       requests:
2023-01-09T04:52:01.493816004Z         memory: 200Mi
2023-01-09T04:52:01.493816004Z         cpu: 40m
2023-01-09T04:52:01.493816004Z     securityContext:
2023-01-09T04:52:01.493816004Z       privileged: true
2023-01-09T04:52:01.493816004Z     volumeMounts:
2023-01-09T04:52:01.493816004Z       - mountPath: /etc/kubernetes/static-pod-resources
2023-01-09T04:52:01.493816004Z         name: resource-dir
2023-01-09T04:52:01.493816004Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:52:01.493816004Z         name: cert-dir
2023-01-09T04:52:01.493816004Z       - mountPath: /var/lib/etcd/
2023-01-09T04:52:01.493816004Z         name: data-dir
2023-01-09T04:52:01.493816004Z   - name: etcd-readyz
2023-01-09T04:52:01.493816004Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a16832e9c1f864f0f8455237987cb75061483d55d4fd2619af2f93ac3563390d
2023-01-09T04:52:01.493816004Z     imagePullPolicy: IfNotPresent
2023-01-09T04:52:01.493816004Z     terminationMessagePolicy: FallbackToLogsOnError
2023-01-09T04:52:01.493816004Z     command:
2023-01-09T04:52:01.493816004Z       - /bin/sh
2023-01-09T04:52:01.493816004Z       - -c
2023-01-09T04:52:01.493816004Z       - |
2023-01-09T04:52:01.493816004Z         #!/bin/sh
2023-01-09T04:52:01.493816004Z         set -euo pipefail
2023-01-09T04:52:01.493816004Z         
2023-01-09T04:52:01.493816004Z         exec nice -n -18 cluster-etcd-operator readyz \
2023-01-09T04:52:01.493816004Z           --target=https://localhost:2379 \
2023-01-09T04:52:01.493816004Z           --listen-port=9980 \
2023-01-09T04:52:01.493816004Z           --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \
2023-01-09T04:52:01.493816004Z           --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \
2023-01-09T04:52:01.493816004Z           --client-cert-file=$(ETCDCTL_CERT) \
2023-01-09T04:52:01.493816004Z           --client-key-file=$(ETCDCTL_KEY) \
2023-01-09T04:52:01.493816004Z           --client-cacert-file=$(ETCDCTL_CACERT)
2023-01-09T04:52:01.493816004Z     securityContext:
2023-01-09T04:52:01.493816004Z       privileged: true
2023-01-09T04:52:01.493816004Z     ports:
2023-01-09T04:52:01.493816004Z     - containerPort: 9980
2023-01-09T04:52:01.493816004Z       name: readyz
2023-01-09T04:52:01.493816004Z       protocol: TCP
2023-01-09T04:52:01.493816004Z     resources:
2023-01-09T04:52:01.493816004Z       requests:
2023-01-09T04:52:01.493816004Z         memory: 50Mi
2023-01-09T04:52:01.493816004Z         cpu: 10m
2023-01-09T04:52:01.493816004Z     env:
2023-01-09T04:52:01.493816004Z       - name: "ALL_ETCD_ENDPOINTS"
2023-01-09T04:52:01.493816004Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_API"
2023-01-09T04:52:01.493816004Z         value: "3"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_CACERT"
2023-01-09T04:52:01.493816004Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2023-01-09T04:52:01.493816004Z       - name: "ETCDCTL_CERT"
2023-01-09T04:52:01.493816004Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"
2023-01-09T04:52:01.493910944Z       - name: "ETCDCTL_ENDPOINTS"
2023-01-09T04:52:01.493910944Z         value: "https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"
2023-01-09T04:52:01.493910944Z       - name: "ETCDCTL_KEY"
2023-01-09T04:52:01.493910944Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_CIPHER_SUITES"
2023-01-09T04:52:01.493910944Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_DATA_DIR"
2023-01-09T04:52:01.493910944Z         value: "/var/lib/etcd"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_ELECTION_TIMEOUT"
2023-01-09T04:52:01.493910944Z         value: "1000"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_ENABLE_PPROF"
2023-01-09T04:52:01.493910944Z         value: "true"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2023-01-09T04:52:01.493910944Z         value: "3"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2023-01-09T04:52:01.493910944Z         value: "200ms"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2023-01-09T04:52:01.493910944Z         value: "5s"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2023-01-09T04:52:01.493910944Z         value: "100"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_IMAGE"
2023-01-09T04:52:01.493910944Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2023-01-09T04:52:01.493910944Z         value: "existing"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2023-01-09T04:52:01.493910944Z         value: "8589934592"
2023-01-09T04:52:01.493910944Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2023-01-09T04:52:01.493910944Z         value: "true"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493910944Z         value: "ip-10-0-145-4.us-east-2.compute.internal"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493910944Z         value: "10.0.145.4"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_145_4_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493910944Z         value: "10.0.145.4"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493910944Z         value: "ip-10-0-160-211.us-east-2.compute.internal"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493910944Z         value: "10.0.160.211"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_160_211_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493910944Z         value: "10.0.160.211"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME"
2023-01-09T04:52:01.493910944Z         value: "ip-10-0-199-219.us-east-2.compute.internal"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST"
2023-01-09T04:52:01.493910944Z         value: "10.0.199.219"
2023-01-09T04:52:01.493910944Z       - name: "NODE_ip_10_0_199_219_us_east_2_compute_internal_IP"
2023-01-09T04:52:01.493910944Z         value: "10.0.199.219"
2023-01-09T04:52:01.493910944Z     volumeMounts:
2023-01-09T04:52:01.493910944Z       - mountPath: /var/log/etcd/
2023-01-09T04:52:01.493910944Z         name: log-dir
2023-01-09T04:52:01.493910944Z       - mountPath: /etc/kubernetes/static-pod-certs
2023-01-09T04:52:01.493910944Z         name: cert-dir
2023-01-09T04:52:01.493910944Z   hostNetwork: true
2023-01-09T04:52:01.493910944Z   priorityClassName: system-node-critical
2023-01-09T04:52:01.493910944Z   tolerations:
2023-01-09T04:52:01.493910944Z   - operator: "Exists"
2023-01-09T04:52:01.493910944Z   volumes:
2023-01-09T04:52:01.493910944Z     - hostPath:
2023-01-09T04:52:01.493910944Z         path: /etc/kubernetes/manifests
2023-01-09T04:52:01.493910944Z       name: static-pod-dir
2023-01-09T04:52:01.493910944Z     - hostPath:
2023-01-09T04:52:01.493910944Z         path: /etc/kubernetes/static-pod-resources/etcd-pod-7
2023-01-09T04:52:01.493910944Z       name: resource-dir
2023-01-09T04:52:01.493910944Z     - hostPath:
2023-01-09T04:52:01.493910944Z         path: /etc/kubernetes/static-pod-resources/etcd-certs
2023-01-09T04:52:01.493910944Z       name: cert-dir
2023-01-09T04:52:01.493910944Z     - hostPath:
2023-01-09T04:52:01.493910944Z         path: /var/lib/etcd
2023-01-09T04:52:01.493910944Z         type: ""
2023-01-09T04:52:01.493910944Z       name: data-dir
2023-01-09T04:52:01.493910944Z     - hostPath:
2023-01-09T04:52:01.493910944Z         path: /usr/local/bin
2023-01-09T04:52:01.493910944Z       name: usr-local-bin
2023-01-09T04:52:01.493910944Z     - hostPath:
2023-01-09T04:52:01.493910944Z         path: /var/log/etcd
2023-01-09T04:52:01.493910944Z       name: log-dir
2023-01-09T04:52:01.506361396Z I0109 04:52:01.506316       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/etcd-pod.yaml" ...
2023-01-09T04:52:01.506531823Z I0109 04:52:01.506513       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2023-01-09T04:52:01.506550865Z I0109 04:52:01.506526       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2023-01-09T04:52:01.506550865Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"etcd","namespace":"openshift-etcd","creationTimestamp":null,"labels":{"app":"etcd","etcd":"true","k8s-app":"etcd","revision":"7"},"annotations":{"kubectl.kubernetes.io/default-container":"etcd","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"static-pod-dir","hostPath":{"path":"/etc/kubernetes/manifests"}},{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-pod-7"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-certs"}},{"name":"data-dir","hostPath":{"path":"/var/lib/etcd","type":""}},{"name":"usr-local-bin","hostPath":{"path":"/usr/local/bin"}},{"name":"log-dir","hostPath":{"path":"/var/log/etcd"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\necho -n \"Fixing etcd log permissions.\"\nchmod 0700 /var/log/etcd \u0026\u0026 touch /var/log/etcd/etcd-health-probe.log \u0026\u0026 chmod 0600 /var/log/etcd/*\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-ensure-env-vars","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\n: \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST?not set}\"\n: \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME?not set}\"\n: \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP?not set}\"\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}\" \u003e\u00262\n  exit 1\nfi\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}\" \u003e\u00262\n  exit 1\nfi\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-resources-copy","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nrm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)\ncp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin\n"],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"usr-local-bin","mountPath":"/usr/local/bin"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"etcdctl","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/bash","-c","trap TERM INT; sleep infinity \u0026 wait"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"etcd","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\netcdctl member list || true\n\n# this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you\n# will succeed when you should fail.\nETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \\\n  --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --endpoints=${ALL_ETCD_ENDPOINTS} \\\n  --data-dir=/var/lib/etcd \\\n  --target-peer-url-host=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST} \\\n  --target-name=ip-10-0-160-211.us-east-2.compute.internal)\nexport ETCD_INITIAL_CLUSTER\n\n# we cannot use the \"normal\" port conflict initcontainer because when we upgrade, the existing static pod will never yield,\n# so we do the detection in etcd container itself.\necho -n \"Waiting for ports 2379, 2380 and 9978 to be released.\"\ntime while [ -n \"$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n  echo -n \".\"\n  sleep 1\ndone\n\nexport ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}\nenv | grep ETCD | grep -v NODE\n\nset -x\n# See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice\nexec nice -n -19 ionice -c2 -n0 etcd \\\n  --logger=zap \\\n  --log-level=info \\\n  --experimental-initial-corrupt-check=true \\\n  --initial-advertise-peer-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2380 \\\n  --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --client-cert-auth=true \\\n  --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --peer-client-cert-auth=true \\\n  --advertise-client-urls=https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:2379 \\\n  --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_160_211_us_east_2_compute_internal_IP}:0 \\\n  --listen-peer-urls=https://0.0.0.0:2380 \\\n  --metrics=extensive \\\n  --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"300m","memory":"600Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"livenessProbe":{"httpGet":{"path":"healthz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"startupProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":18},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-metrics","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexport ETCD_NAME=${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME}\n\nexec nice -n -18 etcd grpc-proxy start \\\n  --endpoints https://${NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST}:9978 \\\n  --metrics-addr https://0.0.0.0:9979 \\\n  --listen-addr 127.0.0.1:9977 \\\n  --advertise-client-url \"\"  \\\n  --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \\\n  --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"40m","memory":"200Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a16832e9c1f864f0f8455237987cb75061483d55d4fd2619af2f93ac3563390d","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexec nice -n -18 cluster-etcd-operator readyz \\\n  --target=https://localhost:2379 \\\n  --listen-port=9980 \\\n  --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.crt \\\n  --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-10-0-160-211.us-east-2.compute.internal.key \\\n  --client-cert-file=$(ETCDCTL_CERT) \\\n  --client-key-file=$(ETCDCTL_KEY) \\\n  --client-cacert-file=$(ETCDCTL_CACERT)\n"],"ports":[{"name":"readyz","containerPort":9980,"protocol":"TCP"}],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.18.164:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.0.145.4:2379,https://10.0.160.211:2379,https://10.0.199.219:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-10-0-160-211.us-east-2.compute.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:24d9b9d9d7fadacbc505c849a1e4b390b2f0fcd452ad851b7cce21e8cfec2020"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-145-4.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.145.4"},{"name":"NODE_ip_10_0_145_4_us_east_2_compute_internal_IP","value":"10.0.145.4"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-160-211.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.160.211"},{"name":"NODE_ip_10_0_160_211_us_east_2_compute_internal_IP","value":"10.0.160.211"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_NAME","value":"ip-10-0-199-219.us-east-2.compute.internal"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_ETCD_URL_HOST","value":"10.0.199.219"},{"name":"NODE_ip_10_0_199_219_us_east_2_compute_internal_IP","value":"10.0.199.219"}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd/"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
